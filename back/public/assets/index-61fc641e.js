import{j as V,a1 as ia,a2 as ds,B as qt,n as fs,a3 as hs,x as Gt,a4 as ms,a5 as ps,a6 as vs}from"./chakraui-2826305f.js";import{c as ys,r as Be,d as $s,g as ca,b as gs}from"./react-0ce2fde2.js";import{u as ua,L as Jt,O as _s,c as ws,R as Es}from"./reactRouter-5e5847d7.js";import{u as la,b as Ur,Q as bs,c as Ss}from"./reactQuery-63bcf648.js";import{t as Ps,I as kt,R as js,w as Ns,A as Os,a as Cs,i as Rs,b as Ts,g as Is,c as ks,u as Ds,v as As,d as Vn,e as jr,P as Ms,F as da}from"./rjsf-0bf3bbb2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var Ir={},Ln=ys;Ir.createRoot=Ln.createRoot,Ir.hydrateRoot=Ln.hydrateRoot;const $t={login:"auth/login",register:"auth/register",logout:"auth/logout",currentUser:"auth/getCurrentUser",user:"user"},nr={protocol:"http",host:"localhost",port:"8080",base:"api"};function gr(){return`${nr.protocol}://${nr.host}:${nr.port}/${nr.base}`}async function Fs(e,t){return await(await fetch(`${gr()}/${e}`,{method:"GET",headers:{"Content-Type":"application/json",...t}})).json()}async function zs(e,t,r){return await(await fetch(`${gr()}/${e}`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(t)})).json()}async function Vs(e,t,r){return await(await fetch(`${gr()}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(t)})).json()}async function Ls(e,t){return await(await fetch(`${gr()}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t}})).json()}const _r={get:Fs,post:zs,put:Vs,del:Ls};async function fa(e,t){return _r.get(`${e}/schema/${t}`)}async function ha(e,t){return console.log("sendForm",e,t),_r.post(e,t)}async function Us(){return _r.post($t.logout,{})}async function qs(e){const t={Authorization:`Bearer ${e}`};return(await _r.get($t.currentUser,t)).data}async function Ks(){localStorage.getItem("token")&&localStorage.removeItem("token"),Us()}function Hs(){return V.jsx(ia,{children:"404"})}const ma=Be.createContext(null);function Gs({children:e}){const t=u=>{localStorage.setItem("token",u)},r=()=>{localStorage.removeItem("token")},a=localStorage.getItem("token"),[n,s]=Be.useState({token:a}),c=Be.useMemo(()=>({authData:n,login:u=>{s({token:u}),t(u)},logout:()=>{s(null),r()}}),[n]);return V.jsx(ma.Provider,{value:c,children:e})}var kr={exports:{}},pa={},Ce={},gt={},Bt={},W={},Kt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(N){if(super(),!e.IDENTIFIER.test(N))throw new Error("CodeGen: name must be a valid identifier");this.str=N}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class a extends t{constructor(N){super(),this._items=typeof N=="string"?[N]:N}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const N=this._items[0];return N===""||N==='""'}get str(){var N;return(N=this._str)!==null&&N!==void 0?N:this._str=this._items.reduce((S,R)=>`${S}${R}`,"")}get names(){var N;return(N=this._names)!==null&&N!==void 0?N:this._names=this._items.reduce((S,R)=>(R instanceof r&&(S[R.str]=(S[R.str]||0)+1),S),{})}}e._Code=a,e.nil=new a("");function n(p,...N){const S=[p[0]];let R=0;for(;R<N.length;)u(S,N[R]),S.push(p[++R]);return new a(S)}e._=n;const s=new a("+");function c(p,...N){const S=[C(p[0])];let R=0;for(;R<N.length;)S.push(s),u(S,N[R]),S.push(s,C(p[++R]));return m(S),new a(S)}e.str=c;function u(p,N){N instanceof a?p.push(...N._items):N instanceof r?p.push(N):p.push(y(N))}e.addCodeArg=u;function m(p){let N=1;for(;N<p.length-1;){if(p[N]===s){const S=d(p[N-1],p[N+1]);if(S!==void 0){p.splice(N-1,3,S);continue}p[N++]="+"}N++}}function d(p,N){if(N==='""')return p;if(p==='""')return N;if(typeof p=="string")return N instanceof r||p[p.length-1]!=='"'?void 0:typeof N!="string"?`${p.slice(0,-1)}${N}"`:N[0]==='"'?p.slice(0,-1)+N.slice(1):void 0;if(typeof N=="string"&&N[0]==='"'&&!(p instanceof r))return`"${p}${N.slice(1)}`}function l(p,N){return N.emptyStr()?p:p.emptyStr()?N:c`${p}${N}`}e.strConcat=l;function y(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:C(Array.isArray(p)?p.join(","):p)}function I(p){return new a(C(p))}e.stringify=I;function C(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=C;function _(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new a(`.${p}`):n`[${p}]`}e.getProperty=_;function E(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new a(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=E;function $(p){return new a(p.toString())}e.regexpCode=$})(Kt);var Dr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Kt;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var a;(function(m){m[m.Started=0]="Started",m[m.Completed=1]="Completed"})(a=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:d,parent:l}={}){this._names={},this._prefixes=d,this._parent=l}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const l=this._names[d]||this._nameGroup(d);return`${d}${l.index++}`}_nameGroup(d){var l,y;if(!((y=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||y===void 0)&&y.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=n;class s extends t.Name{constructor(d,l){super(l),this.prefix=d}setValue(d,{property:l,itemIndex:y}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(l)}[${y}]`}}e.ValueScopeName=s;const c=(0,t._)`\n`;class u extends n{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?c:t.nil}}get(){return this._scope}name(d){return new s(d,this._newName(d))}value(d,l){var y;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const I=this.toName(d),{prefix:C}=I,_=(y=l.key)!==null&&y!==void 0?y:l.ref;let E=this._values[C];if(E){const N=E.get(_);if(N)return N}else E=this._values[C]=new Map;E.set(_,I);const $=this._scope[C]||(this._scope[C]=[]),p=$.length;return $[p]=l.ref,I.setValue(l,{property:C,itemIndex:p}),I}getValue(d,l){const y=this._values[d];if(y)return y.get(l)}scopeRefs(d,l=this._values){return this._reduceValues(l,y=>{if(y.scopePath===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return(0,t._)`${d}${y.scopePath}`})}scopeCode(d=this._values,l,y){return this._reduceValues(d,I=>{if(I.value===void 0)throw new Error(`CodeGen: name "${I}" has no value`);return I.value.code},l,y)}_reduceValues(d,l,y={},I){let C=t.nil;for(const _ in d){const E=d[_];if(!E)continue;const $=y[_]=y[_]||new Map;E.forEach(p=>{if($.has(p))return;$.set(p,a.Started);let N=l(p);if(N){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;C=(0,t._)`${C}${S} ${p} = ${N};${this.opts._n}`}else if(N=I==null?void 0:I(p))C=(0,t._)`${C}${N}${this.opts._n}`;else throw new r(p);$.set(p,a.Completed)})}return C}}e.ValueScope=u})(Dr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Kt,r=Dr;var a=Kt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}});var n=Dr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(o,h){return this}}class c extends s{constructor(o,h,T){super(),this.varKind=o,this.name=h,this.rhs=T}render({es5:o,_n:h}){const T=o?r.varKinds.var:this.varKind,z=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${z};`+h}optimizeNames(o,h){if(o[this.name.str])return this.rhs&&(this.rhs=ne(this.rhs,o,h)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(o,h,T){super(),this.lhs=o,this.rhs=h,this.sideEffects=T}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,h){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=ne(this.rhs,o,h),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return fe(o,this.rhs)}}class m extends u{constructor(o,h,T,z){super(o,T,z),this.op=h}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class d extends s{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class l extends s{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class y extends s{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class I extends s{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,h){return this.code=ne(this.code,o,h),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class C extends s{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((h,T)=>h+T.render(o),"")}optimizeNodes(){const{nodes:o}=this;let h=o.length;for(;h--;){const T=o[h].optimizeNodes();Array.isArray(T)?o.splice(h,1,...T):T?o[h]=T:o.splice(h,1)}return o.length>0?this:void 0}optimizeNames(o,h){const{nodes:T}=this;let z=T.length;for(;z--;){const L=T[z];L.optimizeNames(o,h)||(Ee(o,L.names),T.splice(z,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((o,h)=>G(o,h.names),{})}}class _ extends C{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class E extends C{}class $ extends _{}$.kind="else";class p extends _{constructor(o,h){super(h),this.condition=o}render(o){let h=`if(${this.condition})`+super.render(o);return this.else&&(h+="else "+this.else.render(o)),h}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let h=this.else;if(h){const T=h.optimizeNodes();h=this.else=Array.isArray(T)?new $(T):T}if(h)return o===!1?h instanceof p?h:h.nodes:this.nodes.length?this:new p(We(o),h instanceof p?[h]:h.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,h){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(o,h),!!(super.optimizeNames(o,h)||this.else))return this.condition=ne(this.condition,o,h),this}get names(){const o=super.names;return fe(o,this.condition),this.else&&G(o,this.else.names),o}}p.kind="if";class N extends _{}N.kind="for";class S extends N{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iteration=ne(this.iteration,o,h),this}get names(){return G(super.names,this.iteration.names)}}class R extends N{constructor(o,h,T,z){super(),this.varKind=o,this.name=h,this.from=T,this.to=z}render(o){const h=o.es5?r.varKinds.var:this.varKind,{name:T,from:z,to:L}=this;return`for(${h} ${T}=${z}; ${T}<${L}; ${T}++)`+super.render(o)}get names(){const o=fe(super.names,this.from);return fe(o,this.to)}}class A extends N{constructor(o,h,T,z){super(),this.loop=o,this.varKind=h,this.name=T,this.iterable=z}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,h){if(super.optimizeNames(o,h))return this.iterable=ne(this.iterable,o,h),this}get names(){return G(super.names,this.iterable.names)}}class w extends _{constructor(o,h,T){super(),this.name=o,this.args=h,this.async=T}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}w.kind="func";class O extends C{render(o){return"return "+super.render(o)}}O.kind="return";class D extends _{render(o){let h="try"+super.render(o);return this.catch&&(h+=this.catch.render(o)),this.finally&&(h+=this.finally.render(o)),h}optimizeNodes(){var o,h;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(o,h){var T,z;return super.optimizeNames(o,h),(T=this.catch)===null||T===void 0||T.optimizeNames(o,h),(z=this.finally)===null||z===void 0||z.optimizeNames(o,h),this}get names(){const o=super.names;return this.catch&&G(o,this.catch.names),this.finally&&G(o,this.finally.names),o}}class M extends _{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}M.kind="catch";class U extends _{render(o){return"finally"+super.render(o)}}U.kind="finally";class Q{constructor(o,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,h){const T=this._extScope.value(o,h);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(o,h){return this._extScope.getValue(o,h)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,h,T,z){const L=this._scope.toName(h);return T!==void 0&&z&&(this._constants[L.str]=T),this._leafNode(new c(o,L,T)),L}const(o,h,T){return this._def(r.varKinds.const,o,h,T)}let(o,h,T){return this._def(r.varKinds.let,o,h,T)}var(o,h,T){return this._def(r.varKinds.var,o,h,T)}assign(o,h,T){return this._leafNode(new u(o,h,T))}add(o,h){return this._leafNode(new m(o,e.operators.ADD,h))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new I(o)),this}object(...o){const h=["{"];for(const[T,z]of o)h.length>1&&h.push(","),h.push(T),(T!==z||this.opts.es5)&&(h.push(":"),(0,t.addCodeArg)(h,z));return h.push("}"),new t._Code(h)}if(o,h,T){if(this._blockNode(new p(o)),h&&T)this.code(h).else().code(T).endIf();else if(h)this.code(h).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new p(o))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(p,$)}_for(o,h){return this._blockNode(o),h&&this.code(h).endFor(),this}for(o,h){return this._for(new S(o),h)}forRange(o,h,T,z,L=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(o);return this._for(new R(L,Y,h,T),()=>z(Y))}forOf(o,h,T,z=r.varKinds.const){const L=this._scope.toName(o);if(this.opts.es5){const Y=h instanceof t.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,t._)`${Y}.length`,x=>{this.var(L,(0,t._)`${Y}[${x}]`),T(L)})}return this._for(new A("of",z,L,h),()=>T(L))}forIn(o,h,T,z=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${h})`,T);const L=this._scope.toName(o);return this._for(new A("in",z,L,h),()=>T(L))}endFor(){return this._endBlockNode(N)}label(o){return this._leafNode(new d(o))}break(o){return this._leafNode(new l(o))}return(o){const h=new O;if(this._blockNode(h),this.code(o),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(o,h,T){if(!h&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const z=new D;if(this._blockNode(z),this.code(o),h){const L=this.name("e");this._currNode=z.catch=new M(L),h(L)}return T&&(this._currNode=z.finally=new U,this.code(T)),this._endBlockNode(M,U)}throw(o){return this._leafNode(new y(o))}block(o,h){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(h),this}endBlock(o){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-h;if(T<0||o!==void 0&&T!==o)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${o} expected`);return this._nodes.length=h,this}func(o,h=t.nil,T,z){return this._blockNode(new w(o,h,T)),z&&this.code(z).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,h){const T=this._currNode;if(T instanceof o||h&&T instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${o.kind}/${h.kind}`:o.kind}"`)}_elseNode(o){const h=this._currNode;if(!(h instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const h=this._nodes;h[h.length-1]=o}}e.CodeGen=Q;function G(b,o){for(const h in o)b[h]=(b[h]||0)+(o[h]||0);return b}function fe(b,o){return o instanceof t._CodeOrName?G(b,o.names):b}function ne(b,o,h){if(b instanceof t.Name)return T(b);if(!z(b))return b;return new t._Code(b._items.reduce((L,Y)=>(Y instanceof t.Name&&(Y=T(Y)),Y instanceof t._Code?L.push(...Y._items):L.push(Y),L),[]));function T(L){const Y=h[L.str];return Y===void 0||o[L.str]!==1?L:(delete o[L.str],Y)}function z(L){return L instanceof t._Code&&L._items.some(Y=>Y instanceof t.Name&&o[Y.str]===1&&h[Y.str]!==void 0)}}function Ee(b,o){for(const h in o)b[h]=(b[h]||0)-(o[h]||0)}function We(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${k(b)}`}e.not=We;const st=g(e.operators.AND);function bt(...b){return b.reduce(st)}e.and=bt;const ot=g(e.operators.OR);function F(...b){return b.reduce(ot)}e.or=F;function g(b){return(o,h)=>o===t.nil?h:h===t.nil?o:(0,t._)`${k(o)} ${b} ${k(h)}`}function k(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(W);var te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=W,r=Kt;function a(w){const O={};for(const D of w)O[D]=!0;return O}e.toHash=a;function n(w,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(s(w,O),!c(O,w.self.RULES.all))}e.alwaysValidSchema=n;function s(w,O=w.schema){const{opts:D,self:M}=w;if(!D.strictSchema||typeof O=="boolean")return;const U=M.RULES.keywords;for(const Q in O)U[Q]||A(w,`unknown keyword: "${Q}"`)}e.checkUnknownRules=s;function c(w,O){if(typeof w=="boolean")return!w;for(const D in w)if(O[D])return!0;return!1}e.schemaHasRules=c;function u(w,O){if(typeof w=="boolean")return!w;for(const D in w)if(D!=="$ref"&&O.all[D])return!0;return!1}e.schemaHasRulesButRef=u;function m({topSchemaRef:w,schemaPath:O},D,M,U){if(!U){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${w}${O}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=m;function d(w){return I(decodeURIComponent(w))}e.unescapeFragment=d;function l(w){return encodeURIComponent(y(w))}e.escapeFragment=l;function y(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=y;function I(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=I;function C(w,O){if(Array.isArray(w))for(const D of w)O(D);else O(w)}e.eachItem=C;function _({mergeNames:w,mergeToName:O,mergeValues:D,resultToName:M}){return(U,Q,G,fe)=>{const ne=G===void 0?Q:G instanceof t.Name?(Q instanceof t.Name?w(U,Q,G):O(U,Q,G),G):Q instanceof t.Name?(O(U,G,Q),Q):D(Q,G);return fe===t.Name&&!(ne instanceof t.Name)?M(U,ne):ne}}e.mergeEvaluated={props:_({mergeNames:(w,O,D)=>w.if((0,t._)`${D} !== true && ${O} !== undefined`,()=>{w.if((0,t._)`${O} === true`,()=>w.assign(D,!0),()=>w.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${O})`))}),mergeToName:(w,O,D)=>w.if((0,t._)`${D} !== true`,()=>{O===!0?w.assign(D,!0):(w.assign(D,(0,t._)`${D} || {}`),$(w,D,O))}),mergeValues:(w,O)=>w===!0?!0:{...w,...O},resultToName:E}),items:_({mergeNames:(w,O,D)=>w.if((0,t._)`${D} !== true && ${O} !== undefined`,()=>w.assign(D,(0,t._)`${O} === true ? true : ${D} > ${O} ? ${D} : ${O}`)),mergeToName:(w,O,D)=>w.if((0,t._)`${D} !== true`,()=>w.assign(D,O===!0?!0:(0,t._)`${D} > ${O} ? ${D} : ${O}`)),mergeValues:(w,O)=>w===!0?!0:Math.max(w,O),resultToName:(w,O)=>w.var("items",O)})};function E(w,O){if(O===!0)return w.var("props",!0);const D=w.var("props",(0,t._)`{}`);return O!==void 0&&$(w,D,O),D}e.evaluatedPropsToName=E;function $(w,O,D){Object.keys(D).forEach(M=>w.assign((0,t._)`${O}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=$;const p={};function N(w,O){return w.scopeValue("func",{ref:O,code:p[O.code]||(p[O.code]=new r._Code(O.code))})}e.useFunc=N;var S;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(S=e.Type||(e.Type={}));function R(w,O,D){if(w instanceof t.Name){const M=O===S.Num;return D?M?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:M?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(w).toString():"/"+y(w)}e.getErrorPath=R;function A(w,O,D=w.opts.strictSchema){if(D){if(O=`strict mode: ${O}`,D===!0)throw new Error(O);w.self.logger.warn(O)}}e.checkStrictMode=A})(te);var ze={};Object.defineProperty(ze,"__esModule",{value:!0});const ve=W,Js={data:new ve.Name("data"),valCxt:new ve.Name("valCxt"),instancePath:new ve.Name("instancePath"),parentData:new ve.Name("parentData"),parentDataProperty:new ve.Name("parentDataProperty"),rootData:new ve.Name("rootData"),dynamicAnchors:new ve.Name("dynamicAnchors"),vErrors:new ve.Name("vErrors"),errors:new ve.Name("errors"),this:new ve.Name("this"),self:new ve.Name("self"),scope:new ve.Name("scope"),json:new ve.Name("json"),jsonPos:new ve.Name("jsonPos"),jsonLen:new ve.Name("jsonLen"),jsonPart:new ve.Name("jsonPart")};ze.default=Js;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=te,a=ze;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:p})=>p?(0,t.str)`"${$}" keyword must be ${p} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function n($,p=e.keywordError,N,S){const{it:R}=$,{gen:A,compositeRule:w,allErrors:O}=R,D=y($,p,N);S??(w||O)?m(A,D):d(R,(0,t._)`[${D}]`)}e.reportError=n;function s($,p=e.keywordError,N){const{it:S}=$,{gen:R,compositeRule:A,allErrors:w}=S,O=y($,p,N);m(R,O),A||w||d(S,a.default.vErrors)}e.reportExtraError=s;function c($,p){$.assign(a.default.errors,p),$.if((0,t._)`${a.default.vErrors} !== null`,()=>$.if(p,()=>$.assign((0,t._)`${a.default.vErrors}.length`,p),()=>$.assign(a.default.vErrors,null)))}e.resetErrorsCount=c;function u({gen:$,keyword:p,schemaValue:N,data:S,errsCount:R,it:A}){if(R===void 0)throw new Error("ajv implementation error");const w=$.name("err");$.forRange("i",R,a.default.errors,O=>{$.const(w,(0,t._)`${a.default.vErrors}[${O}]`),$.if((0,t._)`${w}.instancePath === undefined`,()=>$.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(a.default.instancePath,A.errorPath))),$.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${A.errSchemaPath}/${p}`),A.opts.verbose&&($.assign((0,t._)`${w}.schema`,N),$.assign((0,t._)`${w}.data`,S))})}e.extendErrors=u;function m($,p){const N=$.const("err",p);$.if((0,t._)`${a.default.vErrors} === null`,()=>$.assign(a.default.vErrors,(0,t._)`[${N}]`),(0,t._)`${a.default.vErrors}.push(${N})`),$.code((0,t._)`${a.default.errors}++`)}function d($,p){const{gen:N,validateName:S,schemaEnv:R}=$;R.$async?N.throw((0,t._)`new ${$.ValidationError}(${p})`):(N.assign((0,t._)`${S}.errors`,p),N.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function y($,p,N){const{createErrors:S}=$.it;return S===!1?(0,t._)`{}`:I($,p,N)}function I($,p,N={}){const{gen:S,it:R}=$,A=[C(R,N),_($,N)];return E($,p,A),S.object(...A)}function C({errorPath:$},{instancePath:p}){const N=p?(0,t.str)`${$}${(0,r.getErrorPath)(p,r.Type.Str)}`:$;return[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,N)]}function _({keyword:$,it:{errSchemaPath:p}},{schemaPath:N,parentSchema:S}){let R=S?p:(0,t.str)`${p}/${$}`;return N&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(N,r.Type.Str)}`),[l.schemaPath,R]}function E($,{params:p,message:N},S){const{keyword:R,data:A,schemaValue:w,it:O}=$,{opts:D,propertyName:M,topSchemaRef:U,schemaPath:Q}=O;S.push([l.keyword,R],[l.params,typeof p=="function"?p($):p||(0,t._)`{}`]),D.messages&&S.push([l.message,typeof N=="function"?N($):N]),D.verbose&&S.push([l.schema,w],[l.parentSchema,(0,t._)`${U}${Q}`],[a.default.data,A]),M&&S.push([l.propertyName,M])}})(Bt);Object.defineProperty(gt,"__esModule",{value:!0});gt.boolOrEmptySchema=gt.topBoolOrEmptySchema=void 0;const Bs=Bt,Ws=W,Qs=ze,Xs={message:"boolean schema is false"};function Ys(e){const{gen:t,schema:r,validateName:a}=e;r===!1?va(e,!1):typeof r=="object"&&r.$async===!0?t.return(Qs.default.data):(t.assign((0,Ws._)`${a}.errors`,null),t.return(!0))}gt.topBoolOrEmptySchema=Ys;function Zs(e,t){const{gen:r,schema:a}=e;a===!1?(r.var(t,!1),va(e)):r.var(t,!0)}gt.boolOrEmptySchema=Zs;function va(e,t){const{gen:r,data:a}=e,n={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Bs.reportError)(n,Xs,void 0,t)}var Wt={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.getRules=nt.isJSONType=void 0;const xs=["string","number","integer","boolean","null","object","array"],eo=new Set(xs);function to(e){return typeof e=="string"&&eo.has(e)}nt.isJSONType=to;function ro(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}nt.getRules=ro;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.shouldUseRule=Le.shouldUseGroup=Le.schemaHasRulesForType=void 0;function no({schema:e,self:t},r){const a=t.RULES.types[r];return a&&a!==!0&&ya(e,a)}Le.schemaHasRulesForType=no;function ya(e,t){return t.rules.some(r=>$a(e,r))}Le.shouldUseGroup=ya;function $a(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(a=>e[a]!==void 0))}Le.shouldUseRule=$a;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=nt,r=Le,a=Bt,n=W,s=te;var c;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(c=e.DataType||(e.DataType={}));function u(S){const R=m(S.type);if(R.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!R.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&R.push("null")}return R}e.getSchemaTypes=u;function m(S){const R=Array.isArray(S)?S:S?[S]:[];if(R.every(t.isJSONType))return R;throw new Error("type must be JSONType or JSONType[]: "+R.join(","))}e.getJSONTypes=m;function d(S,R){const{gen:A,data:w,opts:O}=S,D=y(R,O.coerceTypes),M=R.length>0&&!(D.length===0&&R.length===1&&(0,r.schemaHasRulesForType)(S,R[0]));if(M){const U=E(R,w,O.strictNumbers,c.Wrong);A.if(U,()=>{D.length?I(S,R,D):p(S)})}return M}e.coerceAndCheckDataType=d;const l=new Set(["string","number","integer","boolean","null"]);function y(S,R){return R?S.filter(A=>l.has(A)||R==="array"&&A==="array"):[]}function I(S,R,A){const{gen:w,data:O,opts:D}=S,M=w.let("dataType",(0,n._)`typeof ${O}`),U=w.let("coerced",(0,n._)`undefined`);D.coerceTypes==="array"&&w.if((0,n._)`${M} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>w.assign(O,(0,n._)`${O}[0]`).assign(M,(0,n._)`typeof ${O}`).if(E(R,O,D.strictNumbers),()=>w.assign(U,O))),w.if((0,n._)`${U} !== undefined`);for(const G of A)(l.has(G)||G==="array"&&D.coerceTypes==="array")&&Q(G);w.else(),p(S),w.endIf(),w.if((0,n._)`${U} !== undefined`,()=>{w.assign(O,U),C(S,U)});function Q(G){switch(G){case"string":w.elseIf((0,n._)`${M} == "number" || ${M} == "boolean"`).assign(U,(0,n._)`"" + ${O}`).elseIf((0,n._)`${O} === null`).assign(U,(0,n._)`""`);return;case"number":w.elseIf((0,n._)`${M} == "boolean" || ${O} === null
              || (${M} == "string" && ${O} && ${O} == +${O})`).assign(U,(0,n._)`+${O}`);return;case"integer":w.elseIf((0,n._)`${M} === "boolean" || ${O} === null
              || (${M} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(U,(0,n._)`+${O}`);return;case"boolean":w.elseIf((0,n._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(U,!1).elseIf((0,n._)`${O} === "true" || ${O} === 1`).assign(U,!0);return;case"null":w.elseIf((0,n._)`${O} === "" || ${O} === 0 || ${O} === false`),w.assign(U,null);return;case"array":w.elseIf((0,n._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${O} === null`).assign(U,(0,n._)`[${O}]`)}}}function C({gen:S,parentData:R,parentDataProperty:A},w){S.if((0,n._)`${R} !== undefined`,()=>S.assign((0,n._)`${R}[${A}]`,w))}function _(S,R,A,w=c.Correct){const O=w===c.Correct?n.operators.EQ:n.operators.NEQ;let D;switch(S){case"null":return(0,n._)`${R} ${O} null`;case"array":D=(0,n._)`Array.isArray(${R})`;break;case"object":D=(0,n._)`${R} && typeof ${R} == "object" && !Array.isArray(${R})`;break;case"integer":D=M((0,n._)`!(${R} % 1) && !isNaN(${R})`);break;case"number":D=M();break;default:return(0,n._)`typeof ${R} ${O} ${S}`}return w===c.Correct?D:(0,n.not)(D);function M(U=n.nil){return(0,n.and)((0,n._)`typeof ${R} == "number"`,U,A?(0,n._)`isFinite(${R})`:n.nil)}}e.checkDataType=_;function E(S,R,A,w){if(S.length===1)return _(S[0],R,A,w);let O;const D=(0,s.toHash)(S);if(D.array&&D.object){const M=(0,n._)`typeof ${R} != "object"`;O=D.null?M:(0,n._)`!${R} || ${M}`,delete D.null,delete D.array,delete D.object}else O=n.nil;D.number&&delete D.integer;for(const M in D)O=(0,n.and)(O,_(M,R,A,w));return O}e.checkDataTypes=E;const $={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:R})=>typeof S=="string"?(0,n._)`{type: ${S}}`:(0,n._)`{type: ${R}}`};function p(S){const R=N(S);(0,a.reportError)(R,$)}e.reportTypeError=p;function N(S){const{gen:R,data:A,schema:w}=S,O=(0,s.schemaRefOrVal)(S,w,"type");return{gen:R,keyword:"type",data:A,schema:w.type,schemaCode:O,schemaValue:O,parentSchema:w,params:{},it:S}}})(Wt);var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.assignDefaults=void 0;const mt=W,ao=te;function so(e,t){const{properties:r,items:a}=e.schema;if(t==="object"&&r)for(const n in r)Un(e,n,r[n].default);else t==="array"&&Array.isArray(a)&&a.forEach((n,s)=>Un(e,s,n.default))}wr.assignDefaults=so;function Un(e,t,r){const{gen:a,compositeRule:n,data:s,opts:c}=e;if(r===void 0)return;const u=(0,mt._)`${s}${(0,mt.getProperty)(t)}`;if(n){(0,ao.checkStrictMode)(e,`default is ignored for: ${u}`);return}let m=(0,mt._)`${u} === undefined`;c.useDefaults==="empty"&&(m=(0,mt._)`${m} || ${u} === null || ${u} === ""`),a.if(m,(0,mt._)`${u} = ${(0,mt.stringify)(r)}`)}var Fe={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const se=W,qr=te,Ke=ze,oo=te;function io(e,t){const{gen:r,data:a,it:n}=e;r.if(Hr(r,a,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,se._)`${t}`},!0),e.error()})}X.checkReportMissingProp=io;function co({gen:e,data:t,it:{opts:r}},a,n){return(0,se.or)(...a.map(s=>(0,se.and)(Hr(e,t,s,r.ownProperties),(0,se._)`${n} = ${s}`)))}X.checkMissingProp=co;function uo(e,t){e.setParams({missingProperty:t},!0),e.error()}X.reportMissingProp=uo;function ga(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,se._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=ga;function Kr(e,t,r){return(0,se._)`${ga(e)}.call(${t}, ${r})`}X.isOwnProperty=Kr;function lo(e,t,r,a){const n=(0,se._)`${t}${(0,se.getProperty)(r)} !== undefined`;return a?(0,se._)`${n} && ${Kr(e,t,r)}`:n}X.propertyInData=lo;function Hr(e,t,r,a){const n=(0,se._)`${t}${(0,se.getProperty)(r)} === undefined`;return a?(0,se.or)(n,(0,se.not)(Kr(e,t,r))):n}X.noPropertyInData=Hr;function _a(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}X.allSchemaProperties=_a;function fo(e,t){return _a(t).filter(r=>!(0,qr.alwaysValidSchema)(e,t[r]))}X.schemaProperties=fo;function ho({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:n,errorPath:s},it:c},u,m,d){const l=d?(0,se._)`${e}, ${t}, ${a}${n}`:t,y=[[Ke.default.instancePath,(0,se.strConcat)(Ke.default.instancePath,s)],[Ke.default.parentData,c.parentData],[Ke.default.parentDataProperty,c.parentDataProperty],[Ke.default.rootData,Ke.default.rootData]];c.opts.dynamicRef&&y.push([Ke.default.dynamicAnchors,Ke.default.dynamicAnchors]);const I=(0,se._)`${l}, ${r.object(...y)}`;return m!==se.nil?(0,se._)`${u}.call(${m}, ${I})`:(0,se._)`${u}(${I})`}X.callValidateCode=ho;const mo=(0,se._)`new RegExp`;function po({gen:e,it:{opts:t}},r){const a=t.unicodeRegExp?"u":"",{regExp:n}=t.code,s=n(r,a);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,se._)`${n.code==="new RegExp"?mo:(0,oo.useFunc)(e,n)}(${r}, ${a})`})}X.usePattern=po;function vo(e){const{gen:t,data:r,keyword:a,it:n}=e,s=t.name("valid");if(n.allErrors){const u=t.let("valid",!0);return c(()=>t.assign(u,!1)),u}return t.var(s,!0),c(()=>t.break()),s;function c(u){const m=t.const("len",(0,se._)`${r}.length`);t.forRange("i",0,m,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:qr.Type.Num},s),t.if((0,se.not)(s),u)})}}X.validateArray=vo;function yo(e){const{gen:t,schema:r,keyword:a,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(m=>(0,qr.alwaysValidSchema)(n,m))&&!n.opts.unevaluated)return;const c=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((m,d)=>{const l=e.subschema({keyword:a,schemaProp:d,compositeRule:!0},u);t.assign(c,(0,se._)`${c} || ${u}`),e.mergeValidEvaluated(l,u)||t.if((0,se.not)(c))})),e.result(c,()=>e.reset(),()=>e.error(!0))}X.validateUnion=yo;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.validateKeywordUsage=Fe.validSchemaType=Fe.funcKeywordCode=Fe.macroKeywordCode=void 0;const ye=W,et=ze,$o=X,go=Bt;function _o(e,t){const{gen:r,keyword:a,schema:n,parentSchema:s,it:c}=e,u=t.macro.call(c.self,n,s,c),m=wa(r,a,u);c.opts.validateSchema!==!1&&c.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:ye.nil,errSchemaPath:`${c.errSchemaPath}/${a}`,topSchemaRef:m,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}Fe.macroKeywordCode=_o;function wo(e,t){var r;const{gen:a,keyword:n,schema:s,parentSchema:c,$data:u,it:m}=e;bo(m,t);const d=!u&&t.compile?t.compile.call(m.self,s,c,m):t.validate,l=wa(a,n,d),y=a.let("valid");e.block$data(y,I),e.ok((r=t.valid)!==null&&r!==void 0?r:y);function I(){if(t.errors===!1)E(),t.modifying&&qn(e),$(()=>e.error());else{const p=t.async?C():_();t.modifying&&qn(e),$(()=>Eo(e,p))}}function C(){const p=a.let("ruleErrs",null);return a.try(()=>E((0,ye._)`await `),N=>a.assign(y,!1).if((0,ye._)`${N} instanceof ${m.ValidationError}`,()=>a.assign(p,(0,ye._)`${N}.errors`),()=>a.throw(N))),p}function _(){const p=(0,ye._)`${l}.errors`;return a.assign(p,null),E(ye.nil),p}function E(p=t.async?(0,ye._)`await `:ye.nil){const N=m.opts.passContext?et.default.this:et.default.self,S=!("compile"in t&&!u||t.schema===!1);a.assign(y,(0,ye._)`${p}${(0,$o.callValidateCode)(e,l,N,S)}`,t.modifying)}function $(p){var N;a.if((0,ye.not)((N=t.valid)!==null&&N!==void 0?N:y),p)}}Fe.funcKeywordCode=wo;function qn(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,ye._)`${a.parentData}[${a.parentDataProperty}]`))}function Eo(e,t){const{gen:r}=e;r.if((0,ye._)`Array.isArray(${t})`,()=>{r.assign(et.default.vErrors,(0,ye._)`${et.default.vErrors} === null ? ${t} : ${et.default.vErrors}.concat(${t})`).assign(et.default.errors,(0,ye._)`${et.default.vErrors}.length`),(0,go.extendErrors)(e)},()=>e.error())}function bo({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function wa(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ye.stringify)(r)})}function So(e,t,r=!1){return!t.length||t.some(a=>a==="array"?Array.isArray(e):a==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==a||r&&typeof e>"u")}Fe.validSchemaType=So;function Po({schema:e,opts:t,self:r,errSchemaPath:a},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");const c=n.dependencies;if(c!=null&&c.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${s}: ${c.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[s])){const m=`keyword "${s}" value is invalid at path "${a}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(m);else throw new Error(m)}}Fe.validateKeywordUsage=Po;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.extendSubschemaMode=Je.extendSubschemaData=Je.getSubschema=void 0;const Me=W,Ea=te;function jo(e,{keyword:t,schemaProp:r,schema:a,schemaPath:n,errSchemaPath:s,topSchemaRef:c}){if(t!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,Me._)`${e.schemaPath}${(0,Me.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,Me._)`${e.schemaPath}${(0,Me.getProperty)(t)}${(0,Me.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ea.escapeFragment)(r)}`}}if(a!==void 0){if(n===void 0||s===void 0||c===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:n,topSchemaRef:c,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Je.getSubschema=jo;function No(e,t,{dataProp:r,dataPropType:a,data:n,dataTypes:s,propertyName:c}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:d,dataPathArr:l,opts:y}=t,I=u.let("data",(0,Me._)`${t.data}${(0,Me.getProperty)(r)}`,!0);m(I),e.errorPath=(0,Me.str)`${d}${(0,Ea.getErrorPath)(r,a,y.jsPropertySyntax)}`,e.parentDataProperty=(0,Me._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(n!==void 0){const d=n instanceof Me.Name?n:u.let("data",n,!0);m(d),c!==void 0&&(e.propertyName=c)}s&&(e.dataTypes=s);function m(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}Je.extendSubschemaData=No;function Oo(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:n,allErrors:s}){a!==void 0&&(e.compositeRule=a),n!==void 0&&(e.createErrors=n),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Je.extendSubschemaMode=Oo;var pe={},ba=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,n,s;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),a=s.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=a;n--!==0;){var c=s[n];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r},Sa={exports:{}},Ge=Sa.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var a=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};ur(t,a,n,e,"",e)};Ge.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ge.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ge.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ge.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ur(e,t,r,a,n,s,c,u,m,d){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,n,s,c,u,m,d);for(var l in a){var y=a[l];if(Array.isArray(y)){if(l in Ge.arrayKeywords)for(var I=0;I<y.length;I++)ur(e,t,r,y[I],n+"/"+l+"/"+I,s,n,l,a,I)}else if(l in Ge.propsKeywords){if(y&&typeof y=="object")for(var C in y)ur(e,t,r,y[C],n+"/"+l+"/"+Co(C),s,n,l,a,C)}else(l in Ge.keywords||e.allKeys&&!(l in Ge.skipKeywords))&&ur(e,t,r,y,n+"/"+l,s,n,l,a)}r(a,n,s,c,u,m,d)}}function Co(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ro=Sa.exports;Object.defineProperty(pe,"__esModule",{value:!0});pe.getSchemaRefs=pe.resolveUrl=pe.normalizeId=pe._getFullPath=pe.getFullPath=pe.inlineRef=void 0;const To=te,Io=ba,ko=Ro,Do=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ao(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ar(e):t?Pa(e)<=t:!1}pe.inlineRef=Ao;const Mo=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ar(e){for(const t in e){if(Mo.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ar)||typeof r=="object"&&Ar(r))return!0}return!1}function Pa(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Do.has(r)&&(typeof e[r]=="object"&&(0,To.eachItem)(e[r],a=>t+=Pa(a)),t===1/0))return 1/0}return t}function ja(e,t="",r){r!==!1&&(t=yt(t));const a=e.parse(t);return Na(e,a)}pe.getFullPath=ja;function Na(e,t){return e.serialize(t).split("#")[0]+"#"}pe._getFullPath=Na;const Fo=/#\/?$/;function yt(e){return e?e.replace(Fo,""):""}pe.normalizeId=yt;function zo(e,t,r){return r=yt(r),e.resolve(t,r)}pe.resolveUrl=zo;const Vo=/^[a-z_][-a-z0-9._]*$/i;function Lo(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:a}=this.opts,n=yt(e[r]||t),s={"":n},c=ja(a,n,!1),u={},m=new Set;return ko(e,{allKeys:!0},(y,I,C,_)=>{if(_===void 0)return;const E=c+I;let $=s[_];typeof y[r]=="string"&&($=p.call(this,y[r])),N.call(this,y.$anchor),N.call(this,y.$dynamicAnchor),s[I]=$;function p(S){const R=this.opts.uriResolver.resolve;if(S=yt($?R($,S):S),m.has(S))throw l(S);m.add(S);let A=this.refs[S];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?d(y,A.schema,S):S!==yt(E)&&(S[0]==="#"?(d(y,u[S],S),u[S]=y):this.refs[S]=E),S}function N(S){if(typeof S=="string"){if(!Vo.test(S))throw new Error(`invalid anchor "${S}"`);p.call(this,`#${S}`)}}}),u;function d(y,I,C){if(I!==void 0&&!Io(y,I))throw l(C)}function l(y){return new Error(`reference "${y}" resolves to more than one schema`)}}pe.getSchemaRefs=Lo;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.getData=Ce.KeywordCxt=Ce.validateFunctionCode=void 0;const Oa=gt,Kn=Wt,Gr=Le,hr=Wt,Uo=wr,Ft=Fe,Nr=Je,q=W,J=ze,qo=pe,Ue=te,Dt=Bt;function Ko(e){if(Ta(e)&&(Ia(e),Ra(e))){Jo(e);return}Ca(e,()=>(0,Oa.topBoolOrEmptySchema)(e))}Ce.validateFunctionCode=Ko;function Ca({gen:e,validateName:t,schema:r,schemaEnv:a,opts:n},s){n.code.es5?e.func(t,(0,q._)`${J.default.data}, ${J.default.valCxt}`,a.$async,()=>{e.code((0,q._)`"use strict"; ${Hn(r,n)}`),Go(e,n),e.code(s)}):e.func(t,(0,q._)`${J.default.data}, ${Ho(n)}`,a.$async,()=>e.code(Hn(r,n)).code(s))}function Ho(e){return(0,q._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,q._)`, ${J.default.dynamicAnchors}={}`:q.nil}}={}`}function Go(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,q._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,q._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,q._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,q._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,q._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,q._)`""`),e.var(J.default.parentData,(0,q._)`undefined`),e.var(J.default.parentDataProperty,(0,q._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,q._)`{}`)})}function Jo(e){const{schema:t,opts:r,gen:a}=e;Ca(e,()=>{r.$comment&&t.$comment&&Da(e),Yo(e),a.let(J.default.vErrors,null),a.let(J.default.errors,0),r.unevaluated&&Bo(e),ka(e),ei(e)})}function Bo(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function Hn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function Wo(e,t){if(Ta(e)&&(Ia(e),Ra(e))){Qo(e,t);return}(0,Oa.boolOrEmptySchema)(e,t)}function Ra({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ta(e){return typeof e.schema!="boolean"}function Qo(e,t){const{schema:r,gen:a,opts:n}=e;n.$comment&&r.$comment&&Da(e),Zo(e),xo(e);const s=a.const("_errs",J.default.errors);ka(e,s),a.var(t,(0,q._)`${s} === ${J.default.errors}`)}function Ia(e){(0,Ue.checkUnknownRules)(e),Xo(e)}function ka(e,t){if(e.opts.jtd)return Gn(e,[],!1,t);const r=(0,Kn.getSchemaTypes)(e.schema),a=(0,Kn.coerceAndCheckDataType)(e,r);Gn(e,r,!a,t)}function Xo(e){const{schema:t,errSchemaPath:r,opts:a,self:n}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,Ue.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Yo(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ue.checkStrictMode)(e,"default is ignored in the schema root")}function Zo(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,qo.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function xo(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Da({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:n}){const s=r.$comment;if(n.$comment===!0)e.code((0,q._)`${J.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){const c=(0,q.str)`${a}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${J.default.self}.opts.$comment(${s}, ${c}, ${u}.schema)`)}}function ei(e){const{gen:t,schemaEnv:r,validateName:a,ValidationError:n,opts:s}=e;r.$async?t.if((0,q._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,q._)`new ${n}(${J.default.vErrors})`)):(t.assign((0,q._)`${a}.errors`,J.default.vErrors),s.unevaluated&&ti(e),t.return((0,q._)`${J.default.errors} === 0`))}function ti({gen:e,evaluated:t,props:r,items:a}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),a instanceof q.Name&&e.assign((0,q._)`${t}.items`,a)}function Gn(e,t,r,a){const{gen:n,schema:s,data:c,allErrors:u,opts:m,self:d}=e,{RULES:l}=d;if(s.$ref&&(m.ignoreKeywordsWithRef||!(0,Ue.schemaHasRulesButRef)(s,l))){n.block(()=>Fa(e,"$ref",l.all.$ref.definition));return}m.jtd||ri(e,t),n.block(()=>{for(const I of l.rules)y(I);y(l.post)});function y(I){(0,Gr.shouldUseGroup)(s,I)&&(I.type?(n.if((0,hr.checkDataType)(I.type,c,m.strictNumbers)),Jn(e,I),t.length===1&&t[0]===I.type&&r&&(n.else(),(0,hr.reportTypeError)(e)),n.endIf()):Jn(e,I),u||n.if((0,q._)`${J.default.errors} === ${a||0}`))}}function Jn(e,t){const{gen:r,schema:a,opts:{useDefaults:n}}=e;n&&(0,Uo.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Gr.shouldUseRule)(a,s)&&Fa(e,s.keyword,s.definition,t.type)})}function ri(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ni(e,t),e.opts.allowUnionTypes||ai(e,t),si(e,e.dataTypes))}function ni(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Aa(e.dataTypes,r)||Jr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ii(e,t)}}function ai(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Jr(e,"use allowUnionTypes to allow union type keyword")}function si(e,t){const r=e.self.RULES.all;for(const a in r){const n=r[a];if(typeof n=="object"&&(0,Gr.shouldUseRule)(e.schema,n)){const{type:s}=n.definition;s.length&&!s.some(c=>oi(t,c))&&Jr(e,`missing type "${s.join(",")}" for keyword "${a}"`)}}}function oi(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Aa(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ii(e,t){const r=[];for(const a of e.dataTypes)Aa(t,a)?r.push(a):t.includes("integer")&&a==="number"&&r.push("integer");e.dataTypes=r}function Jr(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ue.checkStrictMode)(e,t,e.opts.strictTypes)}class Ma{constructor(t,r,a){if((0,Ft.validateKeywordUsage)(t,r,a),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=a,this.data=t.data,this.schema=t.schema[a],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ue.schemaRefOrVal)(t,this.schema,a,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",za(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ft.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,a){this.failResult((0,q.not)(t),r,a)}failResult(t,r,a){this.gen.if(t),a?a():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,a){if(r){this.setParams(r),this._error(t,a),this.setParams({});return}this._error(t,a)}_error(t,r){(t?Dt.reportExtraError:Dt.reportError)(this,this.def.error,r)}$dataError(){(0,Dt.reportError)(this,this.def.$dataError||Dt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,a=q.nil){this.gen.block(()=>{this.check$data(t,a),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:a,schemaCode:n,schemaType:s,def:c}=this;a.if((0,q.or)((0,q._)`${n} === undefined`,r)),t!==q.nil&&a.assign(t,!0),(s.length||c.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&a.assign(t,!1)),a.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:a,def:n,it:s}=this;return(0,q.or)(c(),u());function c(){if(a.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const m=Array.isArray(a)?a:[a];return(0,q._)`${(0,hr.checkDataTypes)(m,r,s.opts.strictNumbers,hr.DataType.Wrong)}`}return q.nil}function u(){if(n.validateSchema){const m=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,q._)`!${m}(${r})`}return q.nil}}subschema(t,r){const a=(0,Nr.getSubschema)(this.it,t);(0,Nr.extendSubschemaData)(a,this.it,t),(0,Nr.extendSubschemaMode)(a,t);const n={...this.it,...a,items:void 0,props:void 0};return Wo(n,r),n}mergeEvaluated(t,r){const{it:a,gen:n}=this;a.opts.unevaluated&&(a.props!==!0&&t.props!==void 0&&(a.props=Ue.mergeEvaluated.props(n,t.props,a.props,r)),a.items!==!0&&t.items!==void 0&&(a.items=Ue.mergeEvaluated.items(n,t.items,a.items,r)))}mergeValidEvaluated(t,r){const{it:a,gen:n}=this;if(a.opts.unevaluated&&(a.props!==!0||a.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}Ce.KeywordCxt=Ma;function Fa(e,t,r,a){const n=new Ma(e,r,t);"code"in r?r.code(n,a):n.$data&&r.validate?(0,Ft.funcKeywordCode)(n,r):"macro"in r?(0,Ft.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Ft.funcKeywordCode)(n,r)}const ci=/^\/(?:[^~]|~0|~1)*$/,ui=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function za(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let n,s;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!ci.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,s=J.default.rootData}else{const d=ui.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+d[1];if(n=d[2],n==="#"){if(l>=t)throw new Error(m("property/index",l));return a[t-l]}if(l>t)throw new Error(m("data",l));if(s=r[t-l],!n)return s}let c=s;const u=n.split("/");for(const d of u)d&&(s=(0,q._)`${s}${(0,q.getProperty)((0,Ue.unescapeJsonPointer)(d))}`,c=(0,q._)`${c} && ${s}`);return c;function m(d,l){return`Cannot access ${d} ${l} levels up, current level is ${t}`}}Ce.getData=za;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});class li extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Qt.default=li;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});const Or=pe;class di extends Error{constructor(t,r,a,n){super(n||`can't resolve reference ${a} from id ${r}`),this.missingRef=(0,Or.resolveUrl)(t,r,a),this.missingSchema=(0,Or.normalizeId)((0,Or.getFullPath)(t,this.missingRef))}}Xt.default=di;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.resolveSchema=_e.getCompilingSchema=_e.resolveRef=_e.compileSchema=_e.SchemaEnv=void 0;const je=W,fi=Qt,xe=ze,Oe=pe,Bn=te,hi=Ce;class Er{constructor(t){var r;this.refs={},this.dynamicAnchors={};let a;typeof t.schema=="object"&&(a=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Oe.normalizeId)(a==null?void 0:a[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=a==null?void 0:a.$async,this.refs={}}}_e.SchemaEnv=Er;function Br(e){const t=Va.call(this,e);if(t)return t;const r=(0,Oe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:n}=this.opts.code,{ownProperties:s}=this.opts,c=new je.CodeGen(this.scope,{es5:a,lines:n,ownProperties:s});let u;e.$async&&(u=c.scopeValue("Error",{ref:fi.default,code:(0,je._)`require("ajv/dist/runtime/validation_error").default`}));const m=c.scopeName("validate");e.validateName=m;const d={gen:c,allErrors:this.opts.allErrors,data:xe.default.data,parentData:xe.default.parentData,parentDataProperty:xe.default.parentDataProperty,dataNames:[xe.default.data],dataPathArr:[je.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:c.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,je.stringify)(e.schema)}:{ref:e.schema}),validateName:m,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:je.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,je._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,hi.validateFunctionCode)(d),c.optimize(this.opts.code.optimize);const y=c.toString();l=`${c.scopeRefs(xe.default.scope)}return ${y}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const C=new Function(`${xe.default.self}`,`${xe.default.scope}`,l)(this,this.scope.get());if(this.scope.value(m,{ref:C}),C.errors=null,C.schema=e.schema,C.schemaEnv=e,e.$async&&(C.$async=!0),this.opts.code.source===!0&&(C.source={validateName:m,validateCode:y,scopeValues:c._values}),this.opts.unevaluated){const{props:_,items:E}=d;C.evaluated={props:_ instanceof je.Name?void 0:_,items:E instanceof je.Name?void 0:E,dynamicProps:_ instanceof je.Name,dynamicItems:E instanceof je.Name},C.source&&(C.source.evaluated=(0,je.stringify)(C.evaluated))}return e.validate=C,e}catch(y){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),y}finally{this._compilations.delete(e)}}_e.compileSchema=Br;function mi(e,t,r){var a;r=(0,Oe.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let s=yi.call(this,e,r);if(s===void 0){const c=(a=e.localRefs)===null||a===void 0?void 0:a[r],{schemaId:u}=this.opts;c&&(s=new Er({schema:c,schemaId:u,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=pi.call(this,s)}_e.resolveRef=mi;function pi(e){return(0,Oe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Br.call(this,e)}function Va(e){for(const t of this._compilations)if(vi(t,e))return t}_e.getCompilingSchema=Va;function vi(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function yi(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||br.call(this,e,t)}function br(e,t){const r=this.opts.uriResolver.parse(t),a=(0,Oe._getFullPath)(this.opts.uriResolver,r);let n=(0,Oe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===n)return Cr.call(this,r,e);const s=(0,Oe.normalizeId)(a),c=this.refs[s]||this.schemas[s];if(typeof c=="string"){const u=br.call(this,e,c);return typeof(u==null?void 0:u.schema)!="object"?void 0:Cr.call(this,r,u)}if(typeof(c==null?void 0:c.schema)=="object"){if(c.validate||Br.call(this,c),s===(0,Oe.normalizeId)(t)){const{schema:u}=c,{schemaId:m}=this.opts,d=u[m];return d&&(n=(0,Oe.resolveUrl)(this.opts.uriResolver,n,d)),new Er({schema:u,schemaId:m,root:e,baseId:n})}return Cr.call(this,r,c)}}_e.resolveSchema=br;const $i=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Cr(e,{baseId:t,schema:r,root:a}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const m=r[(0,Bn.unescapeFragment)(u)];if(m===void 0)return;r=m;const d=typeof r=="object"&&r[this.opts.schemaId];!$i.has(u)&&d&&(t=(0,Oe.resolveUrl)(this.opts.uriResolver,t,d))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Bn.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Oe.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=br.call(this,a,u)}const{schemaId:c}=this.opts;if(s=s||new Er({schema:r,schemaId:c,root:a,baseId:t}),s.schema!==s.root.schema)return s}const gi="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_i="Meta-schema for $data reference (JSON AnySchema extension proposal)",wi="object",Ei=["$data"],bi={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Si=!1,Pi={$id:gi,description:_i,type:wi,required:Ei,properties:bi,additionalProperties:Si};var Wr={},Mr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,a){a(t)})($s,function(r){function a(){for(var f=arguments.length,i=Array(f),v=0;v<f;v++)i[v]=arguments[v];if(i.length>1){i[0]=i[0].slice(0,-1);for(var j=i.length-1,P=1;P<j;++P)i[P]=i[P].slice(1,-1);return i[j]=i[j].slice(1),i.join("")}else return i[0]}function n(f){return"(?:"+f+")"}function s(f){return f===void 0?"undefined":f===null?"null":Object.prototype.toString.call(f).split(" ").pop().split("]").shift().toLowerCase()}function c(f){return f.toUpperCase()}function u(f){return f!=null?f instanceof Array?f:typeof f.length!="number"||f.split||f.setInterval||f.call?[f]:Array.prototype.slice.call(f):[]}function m(f,i){var v=f;if(i)for(var j in i)v[j]=i[j];return v}function d(f){var i="[A-Za-z]",v="[0-9]",j=a(v,"[A-Fa-f]"),P=n(n("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+n("%[89A-Fa-f]"+j+"%"+j+j)+"|"+n("%"+j+j)),K="[\\:\\/\\?\\#\\[\\]\\@]",H="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ee=a(K,H),ae=f?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ue=f?"[\\uE000-\\uF8FF]":"[]",Z=a(i,v,"[\\-\\.\\_\\~]",ae);n(i+a(i,v,"[\\+\\-\\.]")+"*"),n(n(P+"|"+a(Z,H,"[\\:]"))+"*");var re=n(n("25[0-5]")+"|"+n("2[0-4]"+v)+"|"+n("1"+v+v)+"|"+n("0?[1-9]"+v)+"|0?0?"+v),le=n(re+"\\."+re+"\\."+re+"\\."+re),B=n(j+"{1,4}"),oe=n(n(B+"\\:"+B)+"|"+le),he=n(n(B+"\\:")+"{6}"+oe),ie=n("\\:\\:"+n(B+"\\:")+"{5}"+oe),qe=n(n(B)+"?\\:\\:"+n(B+"\\:")+"{4}"+oe),ke=n(n(n(B+"\\:")+"{0,1}"+B)+"?\\:\\:"+n(B+"\\:")+"{3}"+oe),De=n(n(n(B+"\\:")+"{0,2}"+B)+"?\\:\\:"+n(B+"\\:")+"{2}"+oe),ht=n(n(n(B+"\\:")+"{0,3}"+B)+"?\\:\\:"+B+"\\:"+oe),Ye=n(n(n(B+"\\:")+"{0,4}"+B)+"?\\:\\:"+oe),Se=n(n(n(B+"\\:")+"{0,5}"+B)+"?\\:\\:"+B),Ae=n(n(n(B+"\\:")+"{0,6}"+B)+"?\\:\\:"),Ze=n([he,ie,qe,ke,De,ht,Ye,Se,Ae].join("|")),Ve=n(n(Z+"|"+P)+"+");n("[vV]"+j+"+\\."+a(Z,H,"[\\:]")+"+"),n(n(P+"|"+a(Z,H))+"*");var Tt=n(P+"|"+a(Z,H,"[\\:\\@]"));return n(n(P+"|"+a(Z,H,"[\\@]"))+"+"),n(n(Tt+"|"+a("[\\/\\?]",ue))+"*"),{NOT_SCHEME:new RegExp(a("[^]",i,v,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Z,H),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Z,H),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Z,H),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Z,H),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Z,H,"[\\:\\@\\/\\?]",ue),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Z,H,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Z,H),"g"),UNRESERVED:new RegExp(Z,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Z,ee),"g"),PCT_ENCODED:new RegExp(P,"g"),IPV4ADDRESS:new RegExp("^("+le+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ze+")"+n(n("\\%25|\\%(?!"+j+"{2})")+"("+Ve+")")+"?\\]?$")}}var l=d(!1),y=d(!0),I=function(){function f(i,v){var j=[],P=!0,K=!1,H=void 0;try{for(var ee=i[Symbol.iterator](),ae;!(P=(ae=ee.next()).done)&&(j.push(ae.value),!(v&&j.length===v));P=!0);}catch(ue){K=!0,H=ue}finally{try{!P&&ee.return&&ee.return()}finally{if(K)throw H}}return j}return function(i,v){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return f(i,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(f){if(Array.isArray(f)){for(var i=0,v=Array(f.length);i<f.length;i++)v[i]=f[i];return v}else return Array.from(f)},_=2147483647,E=36,$=1,p=26,N=38,S=700,R=72,A=128,w="-",O=/^xn--/,D=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=E-$,G=Math.floor,fe=String.fromCharCode;function ne(f){throw new RangeError(U[f])}function Ee(f,i){for(var v=[],j=f.length;j--;)v[j]=i(f[j]);return v}function We(f,i){var v=f.split("@"),j="";v.length>1&&(j=v[0]+"@",f=v[1]),f=f.replace(M,".");var P=f.split("."),K=Ee(P,i).join(".");return j+K}function st(f){for(var i=[],v=0,j=f.length;v<j;){var P=f.charCodeAt(v++);if(P>=55296&&P<=56319&&v<j){var K=f.charCodeAt(v++);(K&64512)==56320?i.push(((P&1023)<<10)+(K&1023)+65536):(i.push(P),v--)}else i.push(P)}return i}var bt=function(i){return String.fromCodePoint.apply(String,C(i))},ot=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:E},F=function(i,v){return i+22+75*(i<26)-((v!=0)<<5)},g=function(i,v,j){var P=0;for(i=j?G(i/S):i>>1,i+=G(i/v);i>Q*p>>1;P+=E)i=G(i/Q);return G(P+(Q+1)*i/(i+N))},k=function(i){var v=[],j=i.length,P=0,K=A,H=R,ee=i.lastIndexOf(w);ee<0&&(ee=0);for(var ae=0;ae<ee;++ae)i.charCodeAt(ae)>=128&&ne("not-basic"),v.push(i.charCodeAt(ae));for(var ue=ee>0?ee+1:0;ue<j;){for(var Z=P,re=1,le=E;;le+=E){ue>=j&&ne("invalid-input");var B=ot(i.charCodeAt(ue++));(B>=E||B>G((_-P)/re))&&ne("overflow"),P+=B*re;var oe=le<=H?$:le>=H+p?p:le-H;if(B<oe)break;var he=E-oe;re>G(_/he)&&ne("overflow"),re*=he}var ie=v.length+1;H=g(P-Z,ie,Z==0),G(P/ie)>_-K&&ne("overflow"),K+=G(P/ie),P%=ie,v.splice(P++,0,K)}return String.fromCodePoint.apply(String,v)},b=function(i){var v=[];i=st(i);var j=i.length,P=A,K=0,H=R,ee=!0,ae=!1,ue=void 0;try{for(var Z=i[Symbol.iterator](),re;!(ee=(re=Z.next()).done);ee=!0){var le=re.value;le<128&&v.push(fe(le))}}catch(It){ae=!0,ue=It}finally{try{!ee&&Z.return&&Z.return()}finally{if(ae)throw ue}}var B=v.length,oe=B;for(B&&v.push(w);oe<j;){var he=_,ie=!0,qe=!1,ke=void 0;try{for(var De=i[Symbol.iterator](),ht;!(ie=(ht=De.next()).done);ie=!0){var Ye=ht.value;Ye>=P&&Ye<he&&(he=Ye)}}catch(It){qe=!0,ke=It}finally{try{!ie&&De.return&&De.return()}finally{if(qe)throw ke}}var Se=oe+1;he-P>G((_-K)/Se)&&ne("overflow"),K+=(he-P)*Se,P=he;var Ae=!0,Ze=!1,Ve=void 0;try{for(var Tt=i[Symbol.iterator](),An;!(Ae=(An=Tt.next()).done);Ae=!0){var Mn=An.value;if(Mn<P&&++K>_&&ne("overflow"),Mn==P){for(var er=K,tr=E;;tr+=E){var rr=tr<=H?$:tr>=H+p?p:tr-H;if(er<rr)break;var Fn=er-rr,zn=E-rr;v.push(fe(F(rr+Fn%zn,0))),er=G(Fn/zn)}v.push(fe(F(er,0))),H=g(K,Se,oe==B),K=0,++oe}}}catch(It){Ze=!0,Ve=It}finally{try{!Ae&&Tt.return&&Tt.return()}finally{if(Ze)throw Ve}}++K,++P}return v.join("")},o=function(i){return We(i,function(v){return O.test(v)?k(v.slice(4).toLowerCase()):v})},h=function(i){return We(i,function(v){return D.test(v)?"xn--"+b(v):v})},T={version:"2.1.0",ucs2:{decode:st,encode:bt},decode:k,encode:b,toASCII:h,toUnicode:o},z={};function L(f){var i=f.charCodeAt(0),v=void 0;return i<16?v="%0"+i.toString(16).toUpperCase():i<128?v="%"+i.toString(16).toUpperCase():i<2048?v="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():v="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),v}function Y(f){for(var i="",v=0,j=f.length;v<j;){var P=parseInt(f.substr(v+1,2),16);if(P<128)i+=String.fromCharCode(P),v+=3;else if(P>=194&&P<224){if(j-v>=6){var K=parseInt(f.substr(v+4,2),16);i+=String.fromCharCode((P&31)<<6|K&63)}else i+=f.substr(v,6);v+=6}else if(P>=224){if(j-v>=9){var H=parseInt(f.substr(v+4,2),16),ee=parseInt(f.substr(v+7,2),16);i+=String.fromCharCode((P&15)<<12|(H&63)<<6|ee&63)}else i+=f.substr(v,9);v+=9}else i+=f.substr(v,3),v+=3}return i}function x(f,i){function v(j){var P=Y(j);return P.match(i.UNRESERVED)?P:j}return f.scheme&&(f.scheme=String(f.scheme).replace(i.PCT_ENCODED,v).toLowerCase().replace(i.NOT_SCHEME,"")),f.userinfo!==void 0&&(f.userinfo=String(f.userinfo).replace(i.PCT_ENCODED,v).replace(i.NOT_USERINFO,L).replace(i.PCT_ENCODED,c)),f.host!==void 0&&(f.host=String(f.host).replace(i.PCT_ENCODED,v).toLowerCase().replace(i.NOT_HOST,L).replace(i.PCT_ENCODED,c)),f.path!==void 0&&(f.path=String(f.path).replace(i.PCT_ENCODED,v).replace(f.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,L).replace(i.PCT_ENCODED,c)),f.query!==void 0&&(f.query=String(f.query).replace(i.PCT_ENCODED,v).replace(i.NOT_QUERY,L).replace(i.PCT_ENCODED,c)),f.fragment!==void 0&&(f.fragment=String(f.fragment).replace(i.PCT_ENCODED,v).replace(i.NOT_FRAGMENT,L).replace(i.PCT_ENCODED,c)),f}function ce(f){return f.replace(/^0*(.*)/,"$1")||"0"}function Re(f,i){var v=f.match(i.IPV4ADDRESS)||[],j=I(v,2),P=j[1];return P?P.split(".").map(ce).join("."):f}function it(f,i){var v=f.match(i.IPV6ADDRESS)||[],j=I(v,3),P=j[1],K=j[2];if(P){for(var H=P.toLowerCase().split("::").reverse(),ee=I(H,2),ae=ee[0],ue=ee[1],Z=ue?ue.split(":").map(ce):[],re=ae.split(":").map(ce),le=i.IPV4ADDRESS.test(re[re.length-1]),B=le?7:8,oe=re.length-B,he=Array(B),ie=0;ie<B;++ie)he[ie]=Z[ie]||re[oe+ie]||"";le&&(he[B-1]=Re(he[B-1],i));var qe=he.reduce(function(Se,Ae,Ze){if(!Ae||Ae==="0"){var Ve=Se[Se.length-1];Ve&&Ve.index+Ve.length===Ze?Ve.length++:Se.push({index:Ze,length:1})}return Se},[]),ke=qe.sort(function(Se,Ae){return Ae.length-Se.length})[0],De=void 0;if(ke&&ke.length>1){var ht=he.slice(0,ke.index),Ye=he.slice(ke.index+ke.length);De=ht.join(":")+"::"+Ye.join(":")}else De=he.join(":");return K&&(De+="%"+K),De}else return f}var St=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Pt="".match(/(){0}/)[1]===void 0;function we(f){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={},j=i.iri!==!1?y:l;i.reference==="suffix"&&(f=(i.scheme?i.scheme+":":"")+"//"+f);var P=f.match(St);if(P){Pt?(v.scheme=P[1],v.userinfo=P[3],v.host=P[4],v.port=parseInt(P[5],10),v.path=P[6]||"",v.query=P[7],v.fragment=P[8],isNaN(v.port)&&(v.port=P[5])):(v.scheme=P[1]||void 0,v.userinfo=f.indexOf("@")!==-1?P[3]:void 0,v.host=f.indexOf("//")!==-1?P[4]:void 0,v.port=parseInt(P[5],10),v.path=P[6]||"",v.query=f.indexOf("?")!==-1?P[7]:void 0,v.fragment=f.indexOf("#")!==-1?P[8]:void 0,isNaN(v.port)&&(v.port=f.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),v.host&&(v.host=it(Re(v.host,j),j)),v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&!v.path&&v.query===void 0?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==v.reference&&(v.error=v.error||"URI is not a "+i.reference+" reference.");var K=z[(i.scheme||v.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!K||!K.unicodeSupport)){if(v.host&&(i.domainHost||K&&K.domainHost))try{v.host=T.toASCII(v.host.replace(j.PCT_ENCODED,Y).toLowerCase())}catch(H){v.error=v.error||"Host's domain name can not be converted to ASCII via punycode: "+H}x(v,l)}else x(v,j);K&&K.parse&&K.parse(v,i)}else v.error=v.error||"URI can not be parsed.";return v}function jt(f,i){var v=i.iri!==!1?y:l,j=[];return f.userinfo!==void 0&&(j.push(f.userinfo),j.push("@")),f.host!==void 0&&j.push(it(Re(String(f.host),v),v).replace(v.IPV6ADDRESS,function(P,K,H){return"["+K+(H?"%25"+H:"")+"]"})),(typeof f.port=="number"||typeof f.port=="string")&&(j.push(":"),j.push(String(f.port))),j.length?j.join(""):void 0}var ct=/^\.\.?\//,ut=/^\/\.(\/|$)/,lt=/^\/\.\.(\/|$)/,Nt=/^\/?(?:.|\n)*?(?=\/|$)/;function Te(f){for(var i=[];f.length;)if(f.match(ct))f=f.replace(ct,"");else if(f.match(ut))f=f.replace(ut,"/");else if(f.match(lt))f=f.replace(lt,"/"),i.pop();else if(f==="."||f==="..")f="";else{var v=f.match(Nt);if(v){var j=v[0];f=f.slice(j.length),i.push(j)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function $e(f){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=i.iri?y:l,j=[],P=z[(i.scheme||f.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(f,i),f.host&&!v.IPV6ADDRESS.test(f.host)){if(i.domainHost||P&&P.domainHost)try{f.host=i.iri?T.toUnicode(f.host):T.toASCII(f.host.replace(v.PCT_ENCODED,Y).toLowerCase())}catch(ee){f.error=f.error||"Host's domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+ee}}x(f,v),i.reference!=="suffix"&&f.scheme&&(j.push(f.scheme),j.push(":"));var K=jt(f,i);if(K!==void 0&&(i.reference!=="suffix"&&j.push("//"),j.push(K),f.path&&f.path.charAt(0)!=="/"&&j.push("/")),f.path!==void 0){var H=f.path;!i.absolutePath&&(!P||!P.absolutePath)&&(H=Te(H)),K===void 0&&(H=H.replace(/^\/\//,"/%2F")),j.push(H)}return f.query!==void 0&&(j.push("?"),j.push(f.query)),f.fragment!==void 0&&(j.push("#"),j.push(f.fragment)),j.join("")}function dt(f,i){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],P={};return j||(f=we($e(f,v),v),i=we($e(i,v),v)),v=v||{},!v.tolerant&&i.scheme?(P.scheme=i.scheme,P.userinfo=i.userinfo,P.host=i.host,P.port=i.port,P.path=Te(i.path||""),P.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(P.userinfo=i.userinfo,P.host=i.host,P.port=i.port,P.path=Te(i.path||""),P.query=i.query):(i.path?(i.path.charAt(0)==="/"?P.path=Te(i.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?P.path="/"+i.path:f.path?P.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+i.path:P.path=i.path,P.path=Te(P.path)),P.query=i.query):(P.path=f.path,i.query!==void 0?P.query=i.query:P.query=f.query),P.userinfo=f.userinfo,P.host=f.host,P.port=f.port),P.scheme=f.scheme),P.fragment=i.fragment,P}function Ot(f,i,v){var j=m({scheme:"null"},v);return $e(dt(we(f,j),we(i,j),j,!0),j)}function Qe(f,i){return typeof f=="string"?f=$e(we(f,i),i):s(f)==="object"&&(f=we($e(f,i),i)),f}function Ct(f,i,v){return typeof f=="string"?f=$e(we(f,v),v):s(f)==="object"&&(f=$e(f,v)),typeof i=="string"?i=$e(we(i,v),v):s(i)==="object"&&(i=$e(i,v)),f===i}function xt(f,i){return f&&f.toString().replace(!i||!i.iri?l.ESCAPE:y.ESCAPE,L)}function be(f,i){return f&&f.toString().replace(!i||!i.iri?l.PCT_ENCODED:y.PCT_ENCODED,Y)}var Xe={scheme:"http",domainHost:!0,parse:function(i,v){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,v){var j=String(i.scheme).toLowerCase()==="https";return(i.port===(j?443:80)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},Nn={scheme:"https",domainHost:Xe.domainHost,parse:Xe.parse,serialize:Xe.serialize};function On(f){return typeof f.secure=="boolean"?f.secure:String(f.scheme).toLowerCase()==="wss"}var Rt={scheme:"ws",domainHost:!0,parse:function(i,v){var j=i;return j.secure=On(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(i,v){if((i.port===(On(i)?443:80)||i.port==="")&&(i.port=void 0),typeof i.secure=="boolean"&&(i.scheme=i.secure?"wss":"ws",i.secure=void 0),i.resourceName){var j=i.resourceName.split("?"),P=I(j,2),K=P[0],H=P[1];i.path=K&&K!=="/"?K:void 0,i.query=H,i.resourceName=void 0}return i.fragment=void 0,i}},Cn={scheme:"wss",domainHost:Rt.domainHost,parse:Rt.parse,serialize:Rt.serialize},es={},Rn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ie="[0-9A-Fa-f]",ts=n(n("%[EFef]"+Ie+"%"+Ie+Ie+"%"+Ie+Ie)+"|"+n("%[89A-Fa-f]"+Ie+"%"+Ie+Ie)+"|"+n("%"+Ie+Ie)),rs="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ns="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",as=a(ns,'[\\"\\\\]'),ss="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",os=new RegExp(Rn,"g"),ft=new RegExp(ts,"g"),is=new RegExp(a("[^]",rs,"[\\.]",'[\\"]',as),"g"),Tn=new RegExp(a("[^]",Rn,ss),"g"),cs=Tn;function Pr(f){var i=Y(f);return i.match(os)?i:f}var In={scheme:"mailto",parse:function(i,v){var j=i,P=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var K=!1,H={},ee=j.query.split("&"),ae=0,ue=ee.length;ae<ue;++ae){var Z=ee[ae].split("=");switch(Z[0]){case"to":for(var re=Z[1].split(","),le=0,B=re.length;le<B;++le)P.push(re[le]);break;case"subject":j.subject=be(Z[1],v);break;case"body":j.body=be(Z[1],v);break;default:K=!0,H[be(Z[0],v)]=be(Z[1],v);break}}K&&(j.headers=H)}j.query=void 0;for(var oe=0,he=P.length;oe<he;++oe){var ie=P[oe].split("@");if(ie[0]=be(ie[0]),v.unicodeSupport)ie[1]=be(ie[1],v).toLowerCase();else try{ie[1]=T.toASCII(be(ie[1],v).toLowerCase())}catch(qe){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+qe}P[oe]=ie.join("@")}return j},serialize:function(i,v){var j=i,P=u(i.to);if(P){for(var K=0,H=P.length;K<H;++K){var ee=String(P[K]),ae=ee.lastIndexOf("@"),ue=ee.slice(0,ae).replace(ft,Pr).replace(ft,c).replace(is,L),Z=ee.slice(ae+1);try{Z=v.iri?T.toUnicode(Z):T.toASCII(be(Z,v).toLowerCase())}catch(oe){j.error=j.error||"Email address's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+oe}P[K]=ue+"@"+Z}j.path=P.join(",")}var re=i.headers=i.headers||{};i.subject&&(re.subject=i.subject),i.body&&(re.body=i.body);var le=[];for(var B in re)re[B]!==es[B]&&le.push(B.replace(ft,Pr).replace(ft,c).replace(Tn,L)+"="+re[B].replace(ft,Pr).replace(ft,c).replace(cs,L));return le.length&&(j.query=le.join("&")),j}},us=/^([^\:]+)\:(.*)/,kn={scheme:"urn",parse:function(i,v){var j=i.path&&i.path.match(us),P=i;if(j){var K=v.scheme||P.scheme||"urn",H=j[1].toLowerCase(),ee=j[2],ae=K+":"+(v.nid||H),ue=z[ae];P.nid=H,P.nss=ee,P.path=void 0,ue&&(P=ue.parse(P,v))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(i,v){var j=v.scheme||i.scheme||"urn",P=i.nid,K=j+":"+(v.nid||P),H=z[K];H&&(i=H.serialize(i,v));var ee=i,ae=i.nss;return ee.path=(P||v.nid)+":"+ae,ee}},ls=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Dn={scheme:"urn:uuid",parse:function(i,v){var j=i;return j.uuid=j.nss,j.nss=void 0,!v.tolerant&&(!j.uuid||!j.uuid.match(ls))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(i,v){var j=i;return j.nss=(i.uuid||"").toLowerCase(),j}};z[Xe.scheme]=Xe,z[Nn.scheme]=Nn,z[Rt.scheme]=Rt,z[Cn.scheme]=Cn,z[In.scheme]=In,z[kn.scheme]=kn,z[Dn.scheme]=Dn,r.SCHEMES=z,r.pctEncChar=L,r.pctDecChars=Y,r.parse=we,r.removeDotSegments=Te,r.serialize=$e,r.resolveComponents=dt,r.resolve=Ot,r.normalize=Qe,r.equal=Ct,r.escapeComponent=xt,r.unescapeComponent=be,Object.defineProperty(r,"__esModule",{value:!0})})})(Mr,Mr.exports);var ji=Mr.exports;Object.defineProperty(Wr,"__esModule",{value:!0});const La=ji;La.code='require("ajv/dist/runtime/uri").default';Wr.default=La;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ce;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const a=Qt,n=Xt,s=nt,c=_e,u=W,m=pe,d=Wt,l=te,y=Pi,I=Wr,C=(F,g)=>new RegExp(F,g);C.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},N=200;function S(F){var g,k,b,o,h,T,z,L,Y,x,ce,Re,it,St,Pt,we,jt,ct,ut,lt,Nt,Te,$e,dt,Ot;const Qe=F.strict,Ct=(g=F.code)===null||g===void 0?void 0:g.optimize,xt=Ct===!0||Ct===void 0?1:Ct||0,be=(b=(k=F.code)===null||k===void 0?void 0:k.regExp)!==null&&b!==void 0?b:C,Xe=(o=F.uriResolver)!==null&&o!==void 0?o:I.default;return{strictSchema:(T=(h=F.strictSchema)!==null&&h!==void 0?h:Qe)!==null&&T!==void 0?T:!0,strictNumbers:(L=(z=F.strictNumbers)!==null&&z!==void 0?z:Qe)!==null&&L!==void 0?L:!0,strictTypes:(x=(Y=F.strictTypes)!==null&&Y!==void 0?Y:Qe)!==null&&x!==void 0?x:"log",strictTuples:(Re=(ce=F.strictTuples)!==null&&ce!==void 0?ce:Qe)!==null&&Re!==void 0?Re:"log",strictRequired:(St=(it=F.strictRequired)!==null&&it!==void 0?it:Qe)!==null&&St!==void 0?St:!1,code:F.code?{...F.code,optimize:xt,regExp:be}:{optimize:xt,regExp:be},loopRequired:(Pt=F.loopRequired)!==null&&Pt!==void 0?Pt:N,loopEnum:(we=F.loopEnum)!==null&&we!==void 0?we:N,meta:(jt=F.meta)!==null&&jt!==void 0?jt:!0,messages:(ct=F.messages)!==null&&ct!==void 0?ct:!0,inlineRefs:(ut=F.inlineRefs)!==null&&ut!==void 0?ut:!0,schemaId:(lt=F.schemaId)!==null&&lt!==void 0?lt:"$id",addUsedSchema:(Nt=F.addUsedSchema)!==null&&Nt!==void 0?Nt:!0,validateSchema:(Te=F.validateSchema)!==null&&Te!==void 0?Te:!0,validateFormats:($e=F.validateFormats)!==null&&$e!==void 0?$e:!0,unicodeRegExp:(dt=F.unicodeRegExp)!==null&&dt!==void 0?dt:!0,int32range:(Ot=F.int32range)!==null&&Ot!==void 0?Ot:!0,uriResolver:Xe}}class R{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...S(g)};const{es5:k,lines:b}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:E,es5:k,lines:b}),this.logger=G(g.logger);const o=g.validateFormats;g.validateFormats=!1,this.RULES=(0,s.getRules)(),A.call(this,$,g,"NOT SUPPORTED"),A.call(this,p,g,"DEPRECATED","warn"),this._metaOpts=U.call(this),g.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&M.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),O.call(this),g.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:k,schemaId:b}=this.opts;let o=y;b==="id"&&(o={...y},o.id=o.$id,delete o.$id),k&&g&&this.addMetaSchema(o,o[b],!1)}defaultMeta(){const{meta:g,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[k]||g:void 0}validate(g,k){let b;if(typeof g=="string"){if(b=this.getSchema(g),!b)throw new Error(`no schema with key or ref "${g}"`)}else b=this.compile(g);const o=b(k);return"$async"in b||(this.errors=b.errors),o}compile(g,k){const b=this._addSchema(g,k);return b.validate||this._compileSchemaEnv(b)}compileAsync(g,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return o.call(this,g,k);async function o(x,ce){await h.call(this,x.$schema);const Re=this._addSchema(x,ce);return Re.validate||T.call(this,Re)}async function h(x){x&&!this.getSchema(x)&&await o.call(this,{$ref:x},!0)}async function T(x){try{return this._compileSchemaEnv(x)}catch(ce){if(!(ce instanceof n.default))throw ce;return z.call(this,ce),await L.call(this,ce.missingSchema),T.call(this,x)}}function z({missingSchema:x,missingRef:ce}){if(this.refs[x])throw new Error(`AnySchema ${x} is loaded but ${ce} cannot be resolved`)}async function L(x){const ce=await Y.call(this,x);this.refs[x]||await h.call(this,ce.$schema),this.refs[x]||this.addSchema(ce,x,k)}async function Y(x){const ce=this._loading[x];if(ce)return ce;try{return await(this._loading[x]=b(x))}finally{delete this._loading[x]}}}addSchema(g,k,b,o=this.opts.validateSchema){if(Array.isArray(g)){for(const T of g)this.addSchema(T,void 0,b,o);return this}let h;if(typeof g=="object"){const{schemaId:T}=this.opts;if(h=g[T],h!==void 0&&typeof h!="string")throw new Error(`schema ${T} must be string`)}return k=(0,m.normalizeId)(k||h),this._checkUnique(k),this.schemas[k]=this._addSchema(g,b,k,o,!0),this}addMetaSchema(g,k,b=this.opts.validateSchema){return this.addSchema(g,k,!0,b),this}validateSchema(g,k){if(typeof g=="boolean")return!0;let b;if(b=g.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(b,g);if(!o&&k){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return o}getSchema(g){let k;for(;typeof(k=w.call(this,g))=="string";)g=k;if(k===void 0){const{schemaId:b}=this.opts,o=new c.SchemaEnv({schema:{},schemaId:b});if(k=c.resolveSchema.call(this,o,g),!k)return;this.refs[g]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=w.call(this,g);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const k=g;this._cache.delete(k);let b=g[this.opts.schemaId];return b&&(b=(0,m.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const k of g)this.addKeyword(k);return this}addKeyword(g,k){let b;if(typeof g=="string")b=g,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=b);else if(typeof g=="object"&&k===void 0){if(k=g,b=k.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ne.call(this,b,k),!k)return(0,l.eachItem)(b,h=>Ee.call(this,h)),this;st.call(this,k);const o={...k,type:(0,d.getJSONTypes)(k.type),schemaType:(0,d.getJSONTypes)(k.schemaType)};return(0,l.eachItem)(b,o.type.length===0?h=>Ee.call(this,h,o):h=>o.type.forEach(T=>Ee.call(this,h,o,T))),this}getKeyword(g){const k=this.RULES.all[g];return typeof k=="object"?k.definition:!!k}removeKeyword(g){const{RULES:k}=this;delete k.keywords[g],delete k.all[g];for(const b of k.rules){const o=b.rules.findIndex(h=>h.keyword===g);o>=0&&b.rules.splice(o,1)}return this}addFormat(g,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[g]=k,this}errorsText(g=this.errors,{separator:k=", ",dataVar:b="data"}={}){return!g||g.length===0?"No errors":g.map(o=>`${b}${o.instancePath} ${o.message}`).reduce((o,h)=>o+k+h)}$dataMetaSchema(g,k){const b=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const o of k){const h=o.split("/").slice(1);let T=g;for(const z of h)T=T[z];for(const z in b){const L=b[z];if(typeof L!="object")continue;const{$data:Y}=L.definition,x=T[z];Y&&x&&(T[z]=ot(x))}}return g}_removeAllSchemas(g,k){for(const b in g){const o=g[b];(!k||k.test(b))&&(typeof o=="string"?delete g[b]:o&&!o.meta&&(this._cache.delete(o.schema),delete g[b]))}}_addSchema(g,k,b,o=this.opts.validateSchema,h=this.opts.addUsedSchema){let T;const{schemaId:z}=this.opts;if(typeof g=="object")T=g[z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let L=this._cache.get(g);if(L!==void 0)return L;b=(0,m.normalizeId)(T||b);const Y=m.getSchemaRefs.call(this,g,b);return L=new c.SchemaEnv({schema:g,schemaId:z,meta:k,baseId:b,localRefs:Y}),this._cache.set(L.schema,L),h&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=L),o&&this.validateSchema(g,!0),L}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):c.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const k=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,g)}finally{this.opts=k}}}e.default=R,R.ValidationError=a.default,R.MissingRefError=n.default;function A(F,g,k,b="error"){for(const o in F){const h=o;h in g&&this.logger[b](`${k}: option ${o}. ${F[h]}`)}}function w(F){return F=(0,m.normalizeId)(F),this.schemas[F]||this.refs[F]}function O(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const g in F)this.addSchema(F[g],g)}function D(){for(const F in this.opts.formats){const g=this.opts.formats[F];g&&this.addFormat(F,g)}}function M(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in F){const k=F[g];k.keyword||(k.keyword=g),this.addKeyword(k)}}function U(){const F={...this.opts};for(const g of _)delete F[g];return F}const Q={log(){},warn(){},error(){}};function G(F){if(F===!1)return Q;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const fe=/^[a-z_$][a-z0-9_$:-]*$/i;function ne(F,g){const{RULES:k}=this;if((0,l.eachItem)(F,b=>{if(k.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!fe.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function Ee(F,g,k){var b;const o=g==null?void 0:g.post;if(k&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let T=o?h.post:h.rules.find(({type:L})=>L===k);if(T||(T={type:k,rules:[]},h.rules.push(T)),h.keywords[F]=!0,!g)return;const z={keyword:F,definition:{...g,type:(0,d.getJSONTypes)(g.type),schemaType:(0,d.getJSONTypes)(g.schemaType)}};g.before?We.call(this,T,z,g.before):T.rules.push(z),h.all[F]=z,(b=g.implements)===null||b===void 0||b.forEach(L=>this.addKeyword(L))}function We(F,g,k){const b=F.rules.findIndex(o=>o.keyword===k);b>=0?F.rules.splice(b,0,g):(F.rules.push(g),this.logger.warn(`rule ${k} is not defined`))}function st(F){let{metaSchema:g}=F;g!==void 0&&(F.$data&&this.opts.$data&&(g=ot(g)),F.validateSchema=this.compile(g,!0))}const bt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ot(F){return{anyOf:[F,bt]}}})(pa);var Qr={},Xr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const Ni={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Yr.default=Ni;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.callRef=at.getValidate=void 0;const Oi=Xt,Wn=X,ge=W,pt=ze,Qn=_e,ar=te,Ci={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:a}=e,{baseId:n,schemaEnv:s,validateName:c,opts:u,self:m}=a,{root:d}=s;if((r==="#"||r==="#/")&&n===d.baseId)return y();const l=Qn.resolveRef.call(m,d,n,r);if(l===void 0)throw new Oi.default(a.opts.uriResolver,n,r);if(l instanceof Qn.SchemaEnv)return I(l);return C(l);function y(){if(s===d)return lr(e,c,s,s.$async);const _=t.scopeValue("root",{ref:d});return lr(e,(0,ge._)`${_}.validate`,d,d.$async)}function I(_){const E=Ua(e,_);lr(e,E,_,_.$async)}function C(_){const E=t.scopeValue("schema",u.code.source===!0?{ref:_,code:(0,ge.stringify)(_)}:{ref:_}),$=t.name("valid"),p=e.subschema({schema:_,dataTypes:[],schemaPath:ge.nil,topSchemaRef:E,errSchemaPath:r},$);e.mergeEvaluated(p),e.ok($)}}};function Ua(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ge._)`${r.scopeValue("wrapper",{ref:t})}.validate`}at.getValidate=Ua;function lr(e,t,r,a){const{gen:n,it:s}=e,{allErrors:c,schemaEnv:u,opts:m}=s,d=m.passContext?pt.default.this:ge.nil;a?l():y();function l(){if(!u.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,ge._)`await ${(0,Wn.callValidateCode)(e,t,d)}`),C(t),c||n.assign(_,!0)},E=>{n.if((0,ge._)`!(${E} instanceof ${s.ValidationError})`,()=>n.throw(E)),I(E),c||n.assign(_,!1)}),e.ok(_)}function y(){e.result((0,Wn.callValidateCode)(e,t,d),()=>C(t),()=>I(t))}function I(_){const E=(0,ge._)`${_}.errors`;n.assign(pt.default.vErrors,(0,ge._)`${pt.default.vErrors} === null ? ${E} : ${pt.default.vErrors}.concat(${E})`),n.assign(pt.default.errors,(0,ge._)`${pt.default.vErrors}.length`)}function C(_){var E;if(!s.opts.unevaluated)return;const $=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(s.props=ar.mergeEvaluated.props(n,$.props,s.props));else{const p=n.var("props",(0,ge._)`${_}.evaluated.props`);s.props=ar.mergeEvaluated.props(n,p,s.props,ge.Name)}if(s.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(s.items=ar.mergeEvaluated.items(n,$.items,s.items));else{const p=n.var("items",(0,ge._)`${_}.evaluated.items`);s.items=ar.mergeEvaluated.items(n,p,s.items,ge.Name)}}}at.callRef=lr;at.default=Ci;Object.defineProperty(Xr,"__esModule",{value:!0});const Ri=Yr,Ti=at,Ii=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ri.default,Ti.default];Xr.default=Ii;var Zr={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});const mr=W,He=mr.operators,pr={maximum:{okStr:"<=",ok:He.LTE,fail:He.GT},minimum:{okStr:">=",ok:He.GTE,fail:He.LT},exclusiveMaximum:{okStr:"<",ok:He.LT,fail:He.GTE},exclusiveMinimum:{okStr:">",ok:He.GT,fail:He.LTE}},ki={message:({keyword:e,schemaCode:t})=>(0,mr.str)`must be ${pr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,mr._)`{comparison: ${pr[e].okStr}, limit: ${t}}`},Di={keyword:Object.keys(pr),type:"number",schemaType:"number",$data:!0,error:ki,code(e){const{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,mr._)`${r} ${pr[t].fail} ${a} || isNaN(${r})`)}};xr.default=Di;var en={};Object.defineProperty(en,"__esModule",{value:!0});const zt=W,Ai={message:({schemaCode:e})=>(0,zt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,zt._)`{multipleOf: ${e}}`},Mi={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ai,code(e){const{gen:t,data:r,schemaCode:a,it:n}=e,s=n.opts.multipleOfPrecision,c=t.let("res"),u=s?(0,zt._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${s}`:(0,zt._)`${c} !== parseInt(${c})`;e.fail$data((0,zt._)`(${a} === 0 || (${c} = ${r}/${a}, ${u}))`)}};en.default=Mi;var tn={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});function qa(e){const t=e.length;let r=0,a=0,n;for(;a<t;)r++,n=e.charCodeAt(a++),n>=55296&&n<=56319&&a<t&&(n=e.charCodeAt(a),(n&64512)===56320&&a++);return r}rn.default=qa;qa.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(tn,"__esModule",{value:!0});const tt=W,Fi=te,zi=rn,Vi={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,tt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,tt._)`{limit: ${e}}`},Li={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Vi,code(e){const{keyword:t,data:r,schemaCode:a,it:n}=e,s=t==="maxLength"?tt.operators.GT:tt.operators.LT,c=n.opts.unicode===!1?(0,tt._)`${r}.length`:(0,tt._)`${(0,Fi.useFunc)(e.gen,zi.default)}(${r})`;e.fail$data((0,tt._)`${c} ${s} ${a}`)}};tn.default=Li;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});const Ui=X,vr=W,qi={message:({schemaCode:e})=>(0,vr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,vr._)`{pattern: ${e}}`},Ki={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:qi,code(e){const{data:t,$data:r,schema:a,schemaCode:n,it:s}=e,c=s.opts.unicodeRegExp?"u":"",u=r?(0,vr._)`(new RegExp(${n}, ${c}))`:(0,Ui.usePattern)(e,a);e.fail$data((0,vr._)`!${u}.test(${t})`)}};nn.default=Ki;var an={};Object.defineProperty(an,"__esModule",{value:!0});const Vt=W,Hi={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Vt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Vt._)`{limit: ${e}}`},Gi={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Hi,code(e){const{keyword:t,data:r,schemaCode:a}=e,n=t==="maxProperties"?Vt.operators.GT:Vt.operators.LT;e.fail$data((0,Vt._)`Object.keys(${r}).length ${n} ${a}`)}};an.default=Gi;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});const At=X,Lt=W,Ji=te,Bi={message:({params:{missingProperty:e}})=>(0,Lt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Lt._)`{missingProperty: ${e}}`},Wi={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Bi,code(e){const{gen:t,schema:r,schemaCode:a,data:n,$data:s,it:c}=e,{opts:u}=c;if(!s&&r.length===0)return;const m=r.length>=u.loopRequired;if(c.allErrors?d():l(),u.strictRequired){const C=e.parentSchema.properties,{definedProperties:_}=e.it;for(const E of r)if((C==null?void 0:C[E])===void 0&&!_.has(E)){const $=c.schemaEnv.baseId+c.errSchemaPath,p=`required property "${E}" is not defined at "${$}" (strictRequired)`;(0,Ji.checkStrictMode)(c,p,c.opts.strictRequired)}}function d(){if(m||s)e.block$data(Lt.nil,y);else for(const C of r)(0,At.checkReportMissingProp)(e,C)}function l(){const C=t.let("missing");if(m||s){const _=t.let("valid",!0);e.block$data(_,()=>I(C,_)),e.ok(_)}else t.if((0,At.checkMissingProp)(e,r,C)),(0,At.reportMissingProp)(e,C),t.else()}function y(){t.forOf("prop",a,C=>{e.setParams({missingProperty:C}),t.if((0,At.noPropertyInData)(t,n,C,u.ownProperties),()=>e.error())})}function I(C,_){e.setParams({missingProperty:C}),t.forOf(C,a,()=>{t.assign(_,(0,At.propertyInData)(t,n,C,u.ownProperties)),t.if((0,Lt.not)(_),()=>{e.error(),t.break()})},Lt.nil)}}};sn.default=Wi;var on={};Object.defineProperty(on,"__esModule",{value:!0});const Ut=W,Qi={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ut.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ut._)`{limit: ${e}}`},Xi={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Qi,code(e){const{keyword:t,data:r,schemaCode:a}=e,n=t==="maxItems"?Ut.operators.GT:Ut.operators.LT;e.fail$data((0,Ut._)`${r}.length ${n} ${a}`)}};on.default=Xi;var cn={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});const Ka=ba;Ka.code='require("ajv/dist/runtime/equal").default';Yt.default=Ka;Object.defineProperty(cn,"__esModule",{value:!0});const Rr=Wt,me=W,Yi=te,Zi=Yt,xi={message:({params:{i:e,j:t}})=>(0,me.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,me._)`{i: ${e}, j: ${t}}`},ec={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:xi,code(e){const{gen:t,data:r,$data:a,schema:n,parentSchema:s,schemaCode:c,it:u}=e;if(!a&&!n)return;const m=t.let("valid"),d=s.items?(0,Rr.getSchemaTypes)(s.items):[];e.block$data(m,l,(0,me._)`${c} === false`),e.ok(m);function l(){const _=t.let("i",(0,me._)`${r}.length`),E=t.let("j");e.setParams({i:_,j:E}),t.assign(m,!0),t.if((0,me._)`${_} > 1`,()=>(y()?I:C)(_,E))}function y(){return d.length>0&&!d.some(_=>_==="object"||_==="array")}function I(_,E){const $=t.name("item"),p=(0,Rr.checkDataTypes)(d,$,u.opts.strictNumbers,Rr.DataType.Wrong),N=t.const("indices",(0,me._)`{}`);t.for((0,me._)`;${_}--;`,()=>{t.let($,(0,me._)`${r}[${_}]`),t.if(p,(0,me._)`continue`),d.length>1&&t.if((0,me._)`typeof ${$} == "string"`,(0,me._)`${$} += "_"`),t.if((0,me._)`typeof ${N}[${$}] == "number"`,()=>{t.assign(E,(0,me._)`${N}[${$}]`),e.error(),t.assign(m,!1).break()}).code((0,me._)`${N}[${$}] = ${_}`)})}function C(_,E){const $=(0,Yi.useFunc)(t,Zi.default),p=t.name("outer");t.label(p).for((0,me._)`;${_}--;`,()=>t.for((0,me._)`${E} = ${_}; ${E}--;`,()=>t.if((0,me._)`${$}(${r}[${_}], ${r}[${E}])`,()=>{e.error(),t.assign(m,!1).break(p)})))}}};cn.default=ec;var un={};Object.defineProperty(un,"__esModule",{value:!0});const Fr=W,tc=te,rc=Yt,nc={message:"must be equal to constant",params:({schemaCode:e})=>(0,Fr._)`{allowedValue: ${e}}`},ac={keyword:"const",$data:!0,error:nc,code(e){const{gen:t,data:r,$data:a,schemaCode:n,schema:s}=e;a||s&&typeof s=="object"?e.fail$data((0,Fr._)`!${(0,tc.useFunc)(t,rc.default)}(${r}, ${n})`):e.fail((0,Fr._)`${s} !== ${r}`)}};un.default=ac;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});const Mt=W,sc=te,oc=Yt,ic={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Mt._)`{allowedValues: ${e}}`},cc={keyword:"enum",schemaType:"array",$data:!0,error:ic,code(e){const{gen:t,data:r,$data:a,schema:n,schemaCode:s,it:c}=e;if(!a&&n.length===0)throw new Error("enum must have non-empty array");const u=n.length>=c.opts.loopEnum;let m;const d=()=>m??(m=(0,sc.useFunc)(t,oc.default));let l;if(u||a)l=t.let("valid"),e.block$data(l,y);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const C=t.const("vSchema",s);l=(0,Mt.or)(...n.map((_,E)=>I(C,E)))}e.pass(l);function y(){t.assign(l,!1),t.forOf("v",s,C=>t.if((0,Mt._)`${d()}(${r}, ${C})`,()=>t.assign(l,!0).break()))}function I(C,_){const E=n[_];return typeof E=="object"&&E!==null?(0,Mt._)`${d()}(${r}, ${C}[${_}])`:(0,Mt._)`${r} === ${E}`}}};ln.default=cc;Object.defineProperty(Zr,"__esModule",{value:!0});const uc=xr,lc=en,dc=tn,fc=nn,hc=an,mc=sn,pc=on,vc=cn,yc=un,$c=ln,gc=[uc.default,lc.default,dc.default,fc.default,hc.default,mc.default,pc.default,vc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},yc.default,$c.default];Zr.default=gc;var dn={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.validateAdditionalItems=void 0;const rt=W,zr=te,_c={message:({params:{len:e}})=>(0,rt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,rt._)`{limit: ${e}}`},wc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:_c,code(e){const{parentSchema:t,it:r}=e,{items:a}=t;if(!Array.isArray(a)){(0,zr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ha(e,a)}};function Ha(e,t){const{gen:r,schema:a,data:n,keyword:s,it:c}=e;c.items=!0;const u=r.const("len",(0,rt._)`${n}.length`);if(a===!1)e.setParams({len:t.length}),e.pass((0,rt._)`${u} <= ${t.length}`);else if(typeof a=="object"&&!(0,zr.alwaysValidSchema)(c,a)){const d=r.var("valid",(0,rt._)`${u} <= ${t.length}`);r.if((0,rt.not)(d),()=>m(d)),e.ok(d)}function m(d){r.forRange("i",t.length,u,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:zr.Type.Num},d),c.allErrors||r.if((0,rt.not)(d),()=>r.break())})}}wt.validateAdditionalItems=Ha;wt.default=wc;var fn={},Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.validateTuple=void 0;const Xn=W,dr=te,Ec=X,bc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ga(e,"additionalItems",t);r.items=!0,!(0,dr.alwaysValidSchema)(r,t)&&e.ok((0,Ec.validateArray)(e))}};function Ga(e,t,r=e.schema){const{gen:a,parentSchema:n,data:s,keyword:c,it:u}=e;l(n),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=dr.mergeEvaluated.items(a,r.length,u.items));const m=a.name("valid"),d=a.const("len",(0,Xn._)`${s}.length`);r.forEach((y,I)=>{(0,dr.alwaysValidSchema)(u,y)||(a.if((0,Xn._)`${d} > ${I}`,()=>e.subschema({keyword:c,schemaProp:I,dataProp:I},m)),e.ok(m))});function l(y){const{opts:I,errSchemaPath:C}=u,_=r.length,E=_===y.minItems&&(_===y.maxItems||y[t]===!1);if(I.strictTuples&&!E){const $=`"${c}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${C}"`;(0,dr.checkStrictMode)(u,$,I.strictTuples)}}}Et.validateTuple=Ga;Et.default=bc;Object.defineProperty(fn,"__esModule",{value:!0});const Sc=Et,Pc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Sc.validateTuple)(e,"items")};fn.default=Pc;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});const Yn=W,jc=te,Nc=X,Oc=wt,Cc={message:({params:{len:e}})=>(0,Yn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Yn._)`{limit: ${e}}`},Rc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Cc,code(e){const{schema:t,parentSchema:r,it:a}=e,{prefixItems:n}=r;a.items=!0,!(0,jc.alwaysValidSchema)(a,t)&&(n?(0,Oc.validateAdditionalItems)(e,n):e.ok((0,Nc.validateArray)(e)))}};hn.default=Rc;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Pe=W,sr=te,Tc={message:({params:{min:e,max:t}})=>t===void 0?(0,Pe.str)`must contain at least ${e} valid item(s)`:(0,Pe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Pe._)`{minContains: ${e}}`:(0,Pe._)`{minContains: ${e}, maxContains: ${t}}`},Ic={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Tc,code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:s}=e;let c,u;const{minContains:m,maxContains:d}=a;s.opts.next?(c=m===void 0?1:m,u=d):c=1;const l=t.const("len",(0,Pe._)`${n}.length`);if(e.setParams({min:c,max:u}),u===void 0&&c===0){(0,sr.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&c>u){(0,sr.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,sr.alwaysValidSchema)(s,r)){let E=(0,Pe._)`${l} >= ${c}`;u!==void 0&&(E=(0,Pe._)`${E} && ${l} <= ${u}`),e.pass(E);return}s.items=!0;const y=t.name("valid");u===void 0&&c===1?C(y,()=>t.if(y,()=>t.break())):c===0?(t.let(y,!0),u!==void 0&&t.if((0,Pe._)`${n}.length > 0`,I)):(t.let(y,!1),I()),e.result(y,()=>e.reset());function I(){const E=t.name("_valid"),$=t.let("count",0);C(E,()=>t.if(E,()=>_($)))}function C(E,$){t.forRange("i",0,l,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:sr.Type.Num,compositeRule:!0},E),$()})}function _(E){t.code((0,Pe._)`${E}++`),u===void 0?t.if((0,Pe._)`${E} >= ${c}`,()=>t.assign(y,!0).break()):(t.if((0,Pe._)`${E} > ${u}`,()=>t.assign(y,!1).break()),c===1?t.assign(y,!0):t.if((0,Pe._)`${E} >= ${c}`,()=>t.assign(y,!0)))}}};mn.default=Ic;var Ja={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=te,a=X;e.error={message:({params:{property:m,depsCount:d,deps:l}})=>{const y=d===1?"property":"properties";return(0,t.str)`must have ${y} ${l} when property ${m} is present`},params:({params:{property:m,depsCount:d,deps:l,missingProperty:y}})=>(0,t._)`{property: ${m},
    missingProperty: ${y},
    depsCount: ${d},
    deps: ${l}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(m){const[d,l]=s(m);c(m,d),u(m,l)}};function s({schema:m}){const d={},l={};for(const y in m){if(y==="__proto__")continue;const I=Array.isArray(m[y])?d:l;I[y]=m[y]}return[d,l]}function c(m,d=m.schema){const{gen:l,data:y,it:I}=m;if(Object.keys(d).length===0)return;const C=l.let("missing");for(const _ in d){const E=d[_];if(E.length===0)continue;const $=(0,a.propertyInData)(l,y,_,I.opts.ownProperties);m.setParams({property:_,depsCount:E.length,deps:E.join(", ")}),I.allErrors?l.if($,()=>{for(const p of E)(0,a.checkReportMissingProp)(m,p)}):(l.if((0,t._)`${$} && (${(0,a.checkMissingProp)(m,E,C)})`),(0,a.reportMissingProp)(m,C),l.else())}}e.validatePropertyDeps=c;function u(m,d=m.schema){const{gen:l,data:y,keyword:I,it:C}=m,_=l.name("valid");for(const E in d)(0,r.alwaysValidSchema)(C,d[E])||(l.if((0,a.propertyInData)(l,y,E,C.opts.ownProperties),()=>{const $=m.subschema({keyword:I,schemaProp:E},_);m.mergeValidEvaluated($,_)},()=>l.var(_,!0)),m.ok(_))}e.validateSchemaDeps=u,e.default=n})(Ja);var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const Ba=W,kc=te,Dc={message:"property name must be valid",params:({params:e})=>(0,Ba._)`{propertyName: ${e.propertyName}}`},Ac={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Dc,code(e){const{gen:t,schema:r,data:a,it:n}=e;if((0,kc.alwaysValidSchema)(n,r))return;const s=t.name("valid");t.forIn("key",a,c=>{e.setParams({propertyName:c}),e.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},s),t.if((0,Ba.not)(s),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(s)}};pn.default=Ac;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const or=X,Ne=W,Mc=ze,ir=te,Fc={message:"must NOT have additional properties",params:({params:e})=>(0,Ne._)`{additionalProperty: ${e.additionalProperty}}`},zc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Fc,code(e){const{gen:t,schema:r,parentSchema:a,data:n,errsCount:s,it:c}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:u,opts:m}=c;if(c.props=!0,m.removeAdditional!=="all"&&(0,ir.alwaysValidSchema)(c,r))return;const d=(0,or.allSchemaProperties)(a.properties),l=(0,or.allSchemaProperties)(a.patternProperties);y(),e.ok((0,Ne._)`${s} === ${Mc.default.errors}`);function y(){t.forIn("key",n,$=>{!d.length&&!l.length?_($):t.if(I($),()=>_($))})}function I($){let p;if(d.length>8){const N=(0,ir.schemaRefOrVal)(c,a.properties,"properties");p=(0,or.isOwnProperty)(t,N,$)}else d.length?p=(0,Ne.or)(...d.map(N=>(0,Ne._)`${$} === ${N}`)):p=Ne.nil;return l.length&&(p=(0,Ne.or)(p,...l.map(N=>(0,Ne._)`${(0,or.usePattern)(e,N)}.test(${$})`))),(0,Ne.not)(p)}function C($){t.code((0,Ne._)`delete ${n}[${$}]`)}function _($){if(m.removeAdditional==="all"||m.removeAdditional&&r===!1){C($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,ir.alwaysValidSchema)(c,r)){const p=t.name("valid");m.removeAdditional==="failing"?(E($,p,!1),t.if((0,Ne.not)(p),()=>{e.reset(),C($)})):(E($,p),u||t.if((0,Ne.not)(p),()=>t.break()))}}function E($,p,N){const S={keyword:"additionalProperties",dataProp:$,dataPropType:ir.Type.Str};N===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,p)}}};Sr.default=zc;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});const Vc=Ce,Zn=X,Tr=te,xn=Sr,Lc={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:n,it:s}=e;s.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&xn.default.code(new Vc.KeywordCxt(s,xn.default,"additionalProperties"));const c=(0,Zn.allSchemaProperties)(r);for(const y of c)s.definedProperties.add(y);s.opts.unevaluated&&c.length&&s.props!==!0&&(s.props=Tr.mergeEvaluated.props(t,(0,Tr.toHash)(c),s.props));const u=c.filter(y=>!(0,Tr.alwaysValidSchema)(s,r[y]));if(u.length===0)return;const m=t.name("valid");for(const y of u)d(y)?l(y):(t.if((0,Zn.propertyInData)(t,n,y,s.opts.ownProperties)),l(y),s.allErrors||t.else().var(m,!0),t.endIf()),e.it.definedProperties.add(y),e.ok(m);function d(y){return s.opts.useDefaults&&!s.compositeRule&&r[y].default!==void 0}function l(y){e.subschema({keyword:"properties",schemaProp:y,dataProp:y},m)}}};vn.default=Lc;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const ea=X,cr=W,ta=te,ra=te,Uc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:n,it:s}=e,{opts:c}=s,u=(0,ea.allSchemaProperties)(r),m=u.filter(E=>(0,ta.alwaysValidSchema)(s,r[E]));if(u.length===0||m.length===u.length&&(!s.opts.unevaluated||s.props===!0))return;const d=c.strictSchema&&!c.allowMatchingProperties&&n.properties,l=t.name("valid");s.props!==!0&&!(s.props instanceof cr.Name)&&(s.props=(0,ra.evaluatedPropsToName)(t,s.props));const{props:y}=s;I();function I(){for(const E of u)d&&C(E),s.allErrors?_(E):(t.var(l,!0),_(E),t.if(l))}function C(E){for(const $ in d)new RegExp(E).test($)&&(0,ta.checkStrictMode)(s,`property ${$} matches pattern ${E} (use allowMatchingProperties)`)}function _(E){t.forIn("key",a,$=>{t.if((0,cr._)`${(0,ea.usePattern)(e,E)}.test(${$})`,()=>{const p=m.includes(E);p||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:$,dataPropType:ra.Type.Str},l),s.opts.unevaluated&&y!==!0?t.assign((0,cr._)`${y}[${$}]`,!0):!p&&!s.allErrors&&t.if((0,cr.not)(l),()=>t.break())})})}}};yn.default=Uc;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const qc=te,Kc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;if((0,qc.alwaysValidSchema)(a,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};$n.default=Kc;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const Hc=X,Gc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Hc.validateUnion,error:{message:"must match a schema in anyOf"}};gn.default=Gc;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const fr=W,Jc=te,Bc={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,fr._)`{passingSchemas: ${e.passing}}`},Wc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Bc,code(e){const{gen:t,schema:r,parentSchema:a,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&a.discriminator)return;const s=r,c=t.let("valid",!1),u=t.let("passing",null),m=t.name("_valid");e.setParams({passing:u}),t.block(d),e.result(c,()=>e.reset(),()=>e.error(!0));function d(){s.forEach((l,y)=>{let I;(0,Jc.alwaysValidSchema)(n,l)?t.var(m,!0):I=e.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},m),y>0&&t.if((0,fr._)`${m} && ${c}`).assign(c,!1).assign(u,(0,fr._)`[${u}, ${y}]`).else(),t.if(m,()=>{t.assign(c,!0),t.assign(u,y),I&&e.mergeEvaluated(I,fr.Name)})})}}};_n.default=Wc;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const Qc=te,Xc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((s,c)=>{if((0,Qc.alwaysValidSchema)(a,s))return;const u=e.subschema({keyword:"allOf",schemaProp:c},n);e.ok(n),e.mergeEvaluated(u)})}};wn.default=Xc;var En={};Object.defineProperty(En,"__esModule",{value:!0});const yr=W,Wa=te,Yc={message:({params:e})=>(0,yr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yr._)`{failingKeyword: ${e.ifClause}}`},Zc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Yc,code(e){const{gen:t,parentSchema:r,it:a}=e;r.then===void 0&&r.else===void 0&&(0,Wa.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const n=na(a,"then"),s=na(a,"else");if(!n&&!s)return;const c=t.let("valid",!0),u=t.name("_valid");if(m(),e.reset(),n&&s){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(u,d("then",l),d("else",l))}else n?t.if(u,d("then")):t.if((0,yr.not)(u),d("else"));e.pass(c,()=>e.error(!0));function m(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(l)}function d(l,y){return()=>{const I=e.subschema({keyword:l},u);t.assign(c,u),e.mergeValidEvaluated(I,c),y?t.assign(y,(0,yr._)`${l}`):e.setParams({ifClause:l})}}}};function na(e,t){const r=e.schema[t];return r!==void 0&&!(0,Wa.alwaysValidSchema)(e,r)}En.default=Zc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const xc=te,eu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,xc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};bn.default=eu;Object.defineProperty(dn,"__esModule",{value:!0});const tu=wt,ru=fn,nu=Et,au=hn,su=mn,ou=Ja,iu=pn,cu=Sr,uu=vn,lu=yn,du=$n,fu=gn,hu=_n,mu=wn,pu=En,vu=bn;function yu(e=!1){const t=[du.default,fu.default,hu.default,mu.default,pu.default,vu.default,iu.default,cu.default,ou.default,uu.default,lu.default];return e?t.push(ru.default,au.default):t.push(tu.default,nu.default),t.push(su.default),t}dn.default=yu;var Sn={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const de=W,$u={message:({schemaCode:e})=>(0,de.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,de._)`{format: ${e}}`},gu={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:$u,code(e,t){const{gen:r,data:a,$data:n,schema:s,schemaCode:c,it:u}=e,{opts:m,errSchemaPath:d,schemaEnv:l,self:y}=u;if(!m.validateFormats)return;n?I():C();function I(){const _=r.scopeValue("formats",{ref:y.formats,code:m.code.formats}),E=r.const("fDef",(0,de._)`${_}[${c}]`),$=r.let("fType"),p=r.let("format");r.if((0,de._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign($,(0,de._)`${E}.type || "string"`).assign(p,(0,de._)`${E}.validate`),()=>r.assign($,(0,de._)`"string"`).assign(p,E)),e.fail$data((0,de.or)(N(),S()));function N(){return m.strictSchema===!1?de.nil:(0,de._)`${c} && !${p}`}function S(){const R=l.$async?(0,de._)`(${E}.async ? await ${p}(${a}) : ${p}(${a}))`:(0,de._)`${p}(${a})`,A=(0,de._)`(typeof ${p} == "function" ? ${R} : ${p}.test(${a}))`;return(0,de._)`${p} && ${p} !== true && ${$} === ${t} && !${A}`}}function C(){const _=y.formats[s];if(!_){N();return}if(_===!0)return;const[E,$,p]=S(_);E===t&&e.pass(R());function N(){if(m.strictSchema===!1){y.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${s}" ignored in schema at path "${d}"`}}function S(A){const w=A instanceof RegExp?(0,de.regexpCode)(A):m.code.formats?(0,de._)`${m.code.formats}${(0,de.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:A,code:w});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,de._)`${O}.validate`]:["string",A,O]}function R(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!l.$async)throw new Error("async format in sync schema");return(0,de._)`await ${p}(${a})`}return typeof $=="function"?(0,de._)`${p}(${a})`:(0,de._)`${p}.test(${a})`}}}};Pn.default=gu;Object.defineProperty(Sn,"__esModule",{value:!0});const _u=Pn,wu=[_u.default];Sn.default=wu;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.contentVocabulary=_t.metadataVocabulary=void 0;_t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];_t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Qr,"__esModule",{value:!0});const Eu=Xr,bu=Zr,Su=dn,Pu=Sn,aa=_t,ju=[Eu.default,bu.default,(0,Su.default)(),Pu.default,aa.metadataVocabulary,aa.contentVocabulary];Qr.default=ju;var jn={},Qa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Qa);Object.defineProperty(jn,"__esModule",{value:!0});const vt=W,Vr=Qa,sa=_e,Nu=te,Ou={message:({params:{discrError:e,tagName:t}})=>e===Vr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,vt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Cu={keyword:"discriminator",type:"object",schemaType:"object",error:Ou,code(e){const{gen:t,data:r,schema:a,parentSchema:n,it:s}=e,{oneOf:c}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=a.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");const m=t.let("valid",!1),d=t.const("tag",(0,vt._)`${r}${(0,vt.getProperty)(u)}`);t.if((0,vt._)`typeof ${d} == "string"`,()=>l(),()=>e.error(!1,{discrError:Vr.DiscrError.Tag,tag:d,tagName:u})),e.ok(m);function l(){const C=I();t.if(!1);for(const _ in C)t.elseIf((0,vt._)`${d} === ${_}`),t.assign(m,y(C[_]));t.else(),e.error(!1,{discrError:Vr.DiscrError.Mapping,tag:d,tagName:u}),t.endIf()}function y(C){const _=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:C},_);return e.mergeEvaluated(E,vt.Name),_}function I(){var C;const _={},E=p(n);let $=!0;for(let R=0;R<c.length;R++){let A=c[R];A!=null&&A.$ref&&!(0,Nu.schemaHasRulesButRef)(A,s.self.RULES)&&(A=sa.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,A==null?void 0:A.$ref),A instanceof sa.SchemaEnv&&(A=A.schema));const w=(C=A==null?void 0:A.properties)===null||C===void 0?void 0:C[u];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);$=$&&(E||p(A)),N(w,R)}if(!$)throw new Error(`discriminator: "${u}" must be required`);return _;function p({required:R}){return Array.isArray(R)&&R.includes(u)}function N(R,A){if(R.const)S(R.const,A);else if(R.enum)for(const w of R.enum)S(w,A);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function S(R,A){if(typeof R!="string"||R in _)throw new Error(`discriminator: "${u}" values must be unique strings`);_[R]=A}}}};jn.default=Cu;const Ru="http://json-schema.org/draft-07/schema#",Tu="http://json-schema.org/draft-07/schema#",Iu="Core schema meta-schema",ku={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Du=["object","boolean"],Au={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Mu={$schema:Ru,$id:Tu,title:Iu,definitions:ku,type:Du,properties:Au,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=pa,a=Qr,n=jn,s=Mu,c=["/properties"],u="http://json-schema.org/draft-07/schema";class m extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,c):s;this.addMetaSchema(_,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var d=Ce;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var l=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var y=Qt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var I=Xt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return I.default}})})(kr,kr.exports);var Xa=kr.exports;const Fu=ca(Xa);var Lr={exports:{}},Ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(M,U){return{validate:M,compare:U}}e.fullFormats={date:t(s,c),time:t(m,d),"date-time":t(y,I),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:E,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:D,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:R},int64:{type:"number",validate:A},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,c),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,I),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(M){return M%4===0&&(M%100!==0||M%400===0)}const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(M){const U=a.exec(M);if(!U)return!1;const Q=+U[1],G=+U[2],fe=+U[3];return G>=1&&G<=12&&fe>=1&&fe<=(G===2&&r(Q)?29:n[G])}function c(M,U){if(M&&U)return M>U?1:M<U?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function m(M,U){const Q=u.exec(M);if(!Q)return!1;const G=+Q[1],fe=+Q[2],ne=+Q[3],Ee=Q[5];return(G<=23&&fe<=59&&ne<=59||G===23&&fe===59&&ne===60)&&(!U||Ee!=="")}function d(M,U){if(!(M&&U))return;const Q=u.exec(M),G=u.exec(U);if(Q&&G)return M=Q[1]+Q[2]+Q[3]+(Q[4]||""),U=G[1]+G[2]+G[3]+(G[4]||""),M>U?1:M<U?-1:0}const l=/t|\s/i;function y(M){const U=M.split(l);return U.length===2&&s(U[0])&&m(U[1],!0)}function I(M,U){if(!(M&&U))return;const[Q,G]=M.split(l),[fe,ne]=U.split(l),Ee=c(Q,fe);if(Ee!==void 0)return Ee||d(G,ne)}const C=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function E(M){return C.test(M)&&_.test(M)}const $=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(M){return $.lastIndex=0,$.test(M)}const N=-(2**31),S=2**31-1;function R(M){return Number.isInteger(M)&&M<=S&&M>=N}function A(M){return Number.isInteger(M)}function w(){return!0}const O=/[^\\]\\Z/;function D(M){if(O.test(M))return!1;try{return new RegExp(M),!0}catch{return!1}}})(Ya);var Za={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Xa,r=W,a=r.operators,n={formatMaximum:{okStr:"<=",ok:a.LTE,fail:a.GT},formatMinimum:{okStr:">=",ok:a.GTE,fail:a.LT},formatExclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},formatExclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},s={message:({keyword:u,schemaCode:m})=>r.str`should be ${n[u].okStr} ${m}`,params:({keyword:u,schemaCode:m})=>r._`{comparison: ${n[u].okStr}, limit: ${m}}`};e.formatLimitDefinition={keyword:Object.keys(n),type:"string",schemaType:"string",$data:!0,error:s,code(u){const{gen:m,data:d,schemaCode:l,keyword:y,it:I}=u,{opts:C,self:_}=I;if(!C.validateFormats)return;const E=new t.KeywordCxt(I,_.RULES.all.format.definition,"format");E.$data?$():p();function $(){const S=m.scopeValue("formats",{ref:_.formats,code:C.code.formats}),R=m.const("fmt",r._`${S}[${E.schemaCode}]`);u.fail$data(r.or(r._`typeof ${R} != "object"`,r._`${R} instanceof RegExp`,r._`typeof ${R}.compare != "function"`,N(R)))}function p(){const S=E.schema,R=_.formats[S];if(!R||R===!0)return;if(typeof R!="object"||R instanceof RegExp||typeof R.compare!="function")throw new Error(`"${y}": format "${S}" does not define "compare" function`);const A=m.scopeValue("formats",{key:S,ref:R,code:C.code.formats?r._`${C.code.formats}${r.getProperty(S)}`:void 0});u.fail$data(N(A))}function N(S){return r._`${S}.compare(${d}, ${l}) ${n[y].fail} 0`}},dependencies:["format"]};const c=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=c})(Za);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Ya,a=Za,n=W,s=new n.Name("fullFormats"),c=new n.Name("fastFormats"),u=(d,l={keywords:!0})=>{if(Array.isArray(l))return m(d,l,r.fullFormats,s),d;const[y,I]=l.mode==="fast"?[r.fastFormats,c]:[r.fullFormats,s],C=l.formats||r.formatNames;return m(d,C,y,I),l.keywords&&a.default(d),d};u.get=(d,l="full")=>{const I=(l==="fast"?r.fastFormats:r.fullFormats)[d];if(!I)throw new Error(`Unknown format "${d}"`);return I};function m(d,l,y,I){var C,_;(C=(_=d.opts.code).formats)!==null&&C!==void 0||(_.formats=n._`require("ajv-formats/dist/formats").${I}`);for(const E of l)d.addFormat(E,y[E])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Lr,Lr.exports);var zu=Lr.exports;const oa=ca(zu);function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$r.apply(this,arguments)}function Vu(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,s;for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var Lu={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},Uu=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,qu=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Ku(e,t,r,a,n){r===void 0&&(r={}),n===void 0&&(n=Fu);var s=new n($r({},Lu,r));return a?oa(s,a):a!==!1&&oa(s),s.addFormat("data-url",qu),s.addFormat("color",Uu),s.addKeyword(Os),s.addKeyword(Cs),Array.isArray(e)&&s.addMetaSchema(e),Rs(t)&&Object.keys(t).forEach(function(c){s.addFormat(c,t[c])}),s}var Hu=["instancePath","keyword","params","schemaPath","parentSchema"];function Gu(e,t){return e===void 0&&(e=[]),e.map(function(r){var a=r.instancePath,n=r.keyword,s=r.params,c=r.schemaPath,u=r.parentSchema,m=Vu(r,Hu),d=m.message,l=d===void 0?"":d,y=a.replace(/\//g,"."),I=(y+" "+l).trim();if("missingProperty"in s){y=y?y+"."+s.missingProperty:s.missingProperty;var C=s.missingProperty,_=Vn(jr(t,""+y.replace(/^\./,""))).title;if(_)l=l.replace(C,_);else{var E=jr(u,[Ms,C,"title"]);E&&(l=l.replace(C,E))}I=l}else{var $=Vn(jr(t,""+y.replace(/^\./,""))).title;if($)I=("'"+$+"' "+l).trim();else{var p=u==null?void 0:u.title;p&&(I=("'"+p+"' "+l).trim())}}return{name:n,property:y,message:l,params:s,stack:I,schemaPath:c}})}function Ju(e,t,r,a,n,s,c){var u=t.validationError,m=Gu(t.errors,c);u&&(m=[].concat(m,[{stack:u.message}])),typeof s=="function"&&(m=s(m,c));var d=Ts(m);if(u&&(d=$r({},d,{$schema:{__errors:[u.message]}})),typeof n!="function")return{errors:m,errorSchema:d};var l=Is(e,a,r,a,!0),y=n(l,ks(l),c),I=Ds(y);return As({errors:m,errorSchema:d},I)}var Bu=function(){function e(r,a){this.ajv=void 0,this.localizer=void 0;var n=r.additionalMetaSchemas,s=r.customFormats,c=r.ajvOptionsOverrides,u=r.ajvFormatOptions,m=r.AjvClass;this.ajv=Ku(n,s,c,u,m),this.localizer=a}var t=e.prototype;return t.toErrorList=function(a,n){return n===void 0&&(n=[]),Ps(a,n)},t.rawValidation=function(a,n){var s=void 0,c;a[kt]&&(c=this.ajv.getSchema(a[kt]));try{c===void 0&&(c=this.ajv.compile(a)),c(n)}catch(m){s=m}var u;return c&&(typeof this.localizer=="function"&&this.localizer(c.errors),u=c.errors||void 0,c.errors=null),{errors:u,validationError:s}},t.validateFormData=function(a,n,s,c,u){var m=this.rawValidation(n,a);return Ju(this,m,a,n,s,c,u)},t.isValid=function(a,n,s){var c,u=(c=s[kt])!=null?c:js;try{this.ajv.getSchema(u)===void 0&&this.ajv.addSchema(s,u);var m=Ns(a),d;m[kt]&&(d=this.ajv.getSchema(m[kt])),d===void 0&&(d=this.ajv.compile(m));var l=d(n);return l}catch(y){return console.warn("Error encountered compiling schema:",y),!1}finally{this.ajv.removeSchema(u)}},e}();function Wu(e,t){return e===void 0&&(e={}),new Bu(e,t)}var xa=Wu();function Zt(){return Be.useContext(ma)}function Ht(){return V.jsx(ds,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})}const Qu={email:{"ui:widget":"email"},password:{"ui:widget":"password"}};function Xu(){const e=Zt(),t=ua(),[r,a]=Be.useState(),n=la({mutationFn:c=>ha($t.login,c),onSuccess:c=>{if(c.status==="error"){console.log(c.message,"error");return}c.data.token&&e.login(c.data.token),t("/")},onError:c=>{console.log(c,"error")}});Be.useEffect(()=>{console.log(e.authData,"auth token"),e.authData!==null&&t("/")},[e.authData,t]);const s=Ur("schema",async()=>fa($t.user,"LogInInput"));return s.isLoading?V.jsx(Ht,{}):s.isError?V.jsx("div",{children:"error"}):n.isLoading?V.jsx(Ht,{}):V.jsx(da,{schema:s.data,uiSchema:Qu,validator:xa,formData:r,onSubmit:()=>{console.log(r,"form data"),n.mutate(r)},onChange:c=>{a(c.formData)}})}function Yu(){const e=Zt();return console.log("auth",e),console.log("token",e.authData),e.logout(),V.jsx("div",{children:V.jsx("h1",{children:"Logout"})})}function Zu(){const t=Zt().authData.token,r=Ur("profile",()=>qs(t));if(r.isLoading)return V.jsx(Ht,{});if(r.isError)return V.jsx("div",{children:"error"});if(!r.data)return V.jsx("div",{children:"no data"});const a=r.data;return console.log(a,"user"),V.jsxs("div",{children:[V.jsx("h1",{children:"Profile"}),V.jsx("img",{src:a.avatar,alt:"user avatar"}),V.jsxs("p",{children:["Username: ",a.name]})]})}const xu={email:{"ui:widget":"email"},password:{"ui:widget":"password"},password_confirm:{"ui:widget":"password"},avatar:{"ui:widget":"file","ui:options":{accept:"image/*",filePreview:!0}}};function el(){const e=Zt(),t=ua(),[r,a]=Be.useState(),n=la({mutationFn:c=>ha($t.register,c),onSuccess:c=>{console.log("Usuario Creado con xito"),console.log(c,"data"),t("/login")},onError:c=>{console.log(c,"error")}});Be.useEffect(()=>{e.authData!==null&&t("/")},[e.authData,t]);const s=Ur("schema",async()=>fa($t.user,"SiginInput"));return s.isLoading?V.jsx(Ht,{}):n.isLoading?V.jsx(Ht,{}):V.jsx(da,{schema:s.data,uiSchema:xu,validator:xa,formData:r,onSubmit:()=>{console.log(r,"form data"),n.mutate(r)},onChange:c=>{a(c.formData)}})}function tl(){return V.jsx(qt,{bg:"coral",children:V.jsx("div",{className:"header",children:"Header"})})}function rl(){return V.jsx("div",{className:"footer",children:"Footer"})}function nl(){return V.jsx(qt,{minW:"250px",minH:"100vh",bg:fs("gray.100","gray.900"),children:V.jsxs(hs,{children:[V.jsx(sl,{}),V.jsx(al,{})]})})}function al(){return Zt().authData===null?V.jsxs(V.Fragment,{children:[V.jsx(il,{}),V.jsx(cl,{})]}):V.jsxs(V.Fragment,{children:[V.jsx(ul,{}),V.jsx(ol,{})]})}function sl(){return V.jsx(Gt,{children:V.jsx(Jt,{to:"/",children:"Home"})})}function ol(){return V.jsx(Gt,{children:V.jsx(Jt,{to:"/logout",children:"Logout"})})}function il(){return V.jsx(Gt,{children:V.jsx(Jt,{to:"/login",children:"Login"})})}function cl(){return V.jsx(Gt,{children:V.jsx(Jt,{to:"/register",children:"Register"})})}function ul(){return V.jsx(Gt,{children:V.jsx(Jt,{to:"/profile",children:"Profile"})})}function ll(e){return V.jsx(V.Fragment,{children:V.jsxs(ms,{children:[V.jsx(nl,{}),V.jsx(qt,{flex:"1",children:V.jsxs(ps,{align:"stretch",children:[V.jsx(tl,{}),V.jsx(qt,{children:e.children}),V.jsx(rl,{})]})})]})})}function dl(){return V.jsx(ll,{children:V.jsx(qt,{minH:"100vh",children:V.jsx(ia,{children:V.jsx(_s,{})})})})}const fl=ws([{path:"/",element:V.jsx(dl,{}),errorElement:V.jsx(Hs,{}),children:[{path:"register",element:V.jsx(el,{})},{path:"login",element:V.jsx(Xu,{})},{path:"logout",element:V.jsx(Yu,{}),action:Ks},{path:"profile",element:V.jsx(Zu,{})}]},{path:"/admin",element:V.jsx("div",{children:"Admin"})}]),hl=new bs;Ir.createRoot(document.getElementById("root")).render(V.jsx(gs.StrictMode,{children:V.jsx(Gs,{children:V.jsx(vs,{children:V.jsx(Ss,{client:hl,children:V.jsx(Es,{router:fl})})})})}));
